"use strict";(self.webpackChunk_nand2tetris_web=self.webpackChunk_nand2tetris_web||[]).push([[387],{8582:function(t,e,n){n.d(e,{M:function(){return c}});var i=n(1026),r=n(7878),s=n(8365),a=n(4408),u=n(1585),o=n(4625),c=function DiffTable(t){var e=t.className,n=void 0===e?"":e,c=t.out,h=t.cmp,d=t.zeroState,p=s.lA.parse(c),f=s.lA.parse(h);if((0,o.dZ)(p))return(0,r.jsxs)("details",{children:[(0,r.jsx)("summary",{children:"Failed to parse output"}),(0,r.jsx)("pre",{children:(0,a.j)((0,o.UG)(p))}),(0,r.jsx)("code",{children:(0,r.jsx)("pre",{children:c})})]});if((0,o.dZ)(f))return(0,r.jsxs)("details",{children:[(0,r.jsx)("summary",{children:"Failed to parse compare"}),(0,r.jsxs)("code",{children:[(0,r.jsx)("pre",{children:(0,a.j)((0,o.UG)(f))}),(0,r.jsx)("pre",{children:h})]})]});var v=(0,o.Ok)(f),m=(0,o.Ok)(p),k=0,y=(0,u.w)(0,Math.min(v.length,m.length)).map((function(t){var e,n,r=null!==(e=v[t])&&void 0!==e?e:[],s=null!==(n=m[t])&&void 0!==n?n:[];return(0,u.w)(0,Math.max(r.length,s.length)).map((function(t,e){var n,i;return[null!==(n=r[e])&&void 0!==n?n:"",null!==(i=s[e])&&void 0!==i?i:""]})).map((function(t){var e=(0,i.Z)(t,2),n=e[0],r=e[1],s={cmp:null!==n&&void 0!==n?n:'"',out:null!==r&&void 0!==r?r:'"',pass:null!==(null===n||void 0===n?void 0:n.trim().match(/^\*+$/))||(null===r||void 0===r?void 0:r.trim())===(null===n||void 0===n?void 0:n.trim())};return s.pass||(k+=1),s}))}));return(0,r.jsxs)("div",{className:"scroll-x "+n,children:[k>0&&(0,r.jsxs)("p",{children:[k," failure",1===k?"":"s"]}),y.length>0?(0,r.jsx)("table",{style:{fontFamily:"var(--font-family-monospace)",marginBottom:"none"},children:(0,r.jsx)("tbody",{children:y.map((function(t,e){return(0,r.jsx)("tr",{children:t.map((function(t,e){var n=t.cmp,i=t.out,s=t.pass;return(0,r.jsx)(l,{cmp:n,out:i,pass:s},e)}))},e)}))})}):null!==d&&void 0!==d?d:(0,r.jsx)("p",{children:"Execute test script to compare output."})]})},l=function DiffCell(t){var e=t.cmp,n=t.out;return t.pass?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("td",{children:e})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("td",{children:[(0,r.jsx)("ins",{children:e}),(0,r.jsx)("br",{}),(0,r.jsx)("del",{children:n})]})})}},6329:function(t,e,n){n.d(e,{Af:function(){return D},Gc:function(){return A},P9:function(){return R},lj:function(){return x},qP:function(){return M},tI:function(){return L},yE:function(){return T}});var i,r=n(3243),s=n(7597),a=n(7538),u=n(3943),o=n(1092),c=n(7791),l=n(1026),h=n(9422),d=n(7169),p=n(7591),f=n(4337),v=n(726),m=n(649),k=n(2951),y=n(1976),Z=n(4649),b=n(5541),g=n(1585),w=n(6531),x=1,T=0,A=function(){function Bus(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,k.Z)(this,Bus),(0,Z.Z)(this,"name",void 0),(0,Z.Z)(this,"width",void 0),(0,Z.Z)(this,"state",void 0),(0,Z.Z)(this,"next",[]),this.name=t,this.width=e,this.state=(0,g.w)(0,this.width).map((function(){return T}))}return(0,y.Z)(Bus,[{key:"ensureWidth",value:function ensureWidth(t){(0,b.hu)(t<=16,"Cannot widen past 16 to ".concat(t," bits")),this.width<t&&(this.width=t,this.state=[].concat((0,m.Z)(this.state),(0,m.Z)((0,g.w)(this.width,t).map((function(){return T})))))}},{key:"connect",value:function connect(t){this.next.push(t),t.busVoltage=this.busVoltage}},{key:"pull",value:function pull(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,b.hu)(e>=0&&e<this.width,"Bit out of bounds: ".concat(this.name,"@").concat(e)),this.state[e]=t,this.next.forEach((function(n){return n.pull(t,e)}))}},{key:"voltage",value:function voltage(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,b.hu)(t>=0&&t<this.width),this.state[t]}},{key:"busVoltage",get:function get(){var t=this;return(0,g.w)(0,this.width).reduce((function(e,n){return e|t.state[n]<<n}),0)},set:function set(t){var e,n=this,i=(0,v.Z)((0,g.w)(0,this.width));try{for(i.s();!(e=i.n()).done;){var r=e.value;this.state[r]=(t&1<<r)>>r}}catch(s){i.e(s)}finally{i.f()}this.next.forEach((function(t){return t.busVoltage=n.busVoltage}))}},{key:"toggle",value:function toggle(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.voltage(t)===T?x:T;this.pull(e,t)}}]),Bus}(),S=function(t){(0,p.Z)(InSubBus,t);var e=(0,f.Z)(InSubBus);function InSubBus(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,k.Z)(this,InSubBus),i=e.call(this,t.name),(0,Z.Z)((0,d.Z)(i),"bus",void 0),(0,Z.Z)((0,d.Z)(i),"start",void 0),(0,Z.Z)((0,d.Z)(i),"width",void 0),i.bus=t,i.start=n,i.width=r,(0,b.hu)(n>=0&&n+r<=t.width,"Mismatched InSubBus dimensions on ".concat(t.name," (").concat(r," + ").concat(n," > ").concat(t.width,")")),i.connect(t),i}return(0,y.Z)(InSubBus,[{key:"pull",value:function pull(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,b.hu)(e>=0&&e<this.width),this.bus.pull(t,this.start+e)}},{key:"voltage",value:function voltage(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,b.hu)(t>=0&&t<this.width),this.bus.voltage(this.start+t)}},{key:"busVoltage",get:function get(){return this.bus.busVoltage>>this.start&mask(this.width)},set:function set(t){var e=this.bus.busVoltage&~mask(this.width+this.start),n=this.bus.busVoltage&mask(this.start),i=(t&mask(this.width))<<this.start;this.bus.busVoltage=e|i|n}},{key:"connect",value:function connect(t){(0,b.hu)(this.start+this.width<=t.width,"Mismatched InSubBus connection dimensions (From ".concat(t.name," to ").concat(this.name,")")),this.bus=t}}]),InSubBus}(A),C=function(t){(0,p.Z)(OutSubBus,t);var e=(0,f.Z)(OutSubBus);function OutSubBus(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,k.Z)(this,OutSubBus),i=e.call(this,t.name),(0,Z.Z)((0,d.Z)(i),"bus",void 0),(0,Z.Z)((0,d.Z)(i),"start",void 0),(0,Z.Z)((0,d.Z)(i),"width",void 0),i.bus=t,i.start=n,i.width=r,(0,b.hu)(n>=0&&r<=t.width,"Mismatched OutSubBus dimensions"),i.connect(t),i}return(0,y.Z)(OutSubBus,[{key:"busVoltage",get:function get(){return this.bus.busVoltage&mask(this.width)},set:function set(t){this.bus.busVoltage=(t&mask(this.width+this.start))>>this.start}},{key:"connect",value:function connect(t){(0,b.hu)(this.width<=t.width,"Mismatched OutSubBus connection dimensions"),this.bus=t}}]),OutSubBus}(A),M=function(t){(0,p.Z)(ConstantBus,t);var e=(0,f.Z)(ConstantBus);function ConstantBus(t,n){var i;return(0,k.Z)(this,ConstantBus),i=e.call(this,t,16),(0,Z.Z)((0,d.Z)(i),"value",void 0),i.value=n,i}return(0,y.Z)(ConstantBus,[{key:"pullHigh",value:function pullHigh(){}},{key:"pullLow",value:function pullLow(){}},{key:"voltage",value:function voltage(){return 1&this.busVoltage}},{key:"busVoltage",get:function get(){return this.value},set:function set(t){}}]),ConstantBus}(A),I=new M("true",65535),O=new M("false",0);function parsePinDecl(t){var e,n=null===(e=t.match((0,h.Z)(/([a-zA-Z]+)(\[(\d+)\])?/,{pin:1,w:3})))||void 0===e?void 0:e.groups,i=n.pin,r=n.w;return{pin:i,width:r?Number(r):1}}i=Symbol.iterator;var _=function(){function Pins(){(0,k.Z)(this,Pins),(0,Z.Z)(this,"map",new Map)}return(0,y.Z)(Pins,[{key:"insert",value:function insert(t){var e=t.name;(0,b.hu)(!this.map.has(e),"Pins already has ".concat(e,"!")),this.map.set(e,t)}},{key:"emplace",value:function emplace(t,e){if(this.has(t))return this.get(t);var n=new A(t,e);return this.insert(n),n}},{key:"has",value:function has(t){return this.map.has(t)}},{key:"get",value:function get(t){return this.map.get(t)}},{key:"entries",value:function entries(){return this.map.values()}},{key:i,value:function value(){return this.map[Symbol.iterator]()}}]),Pins}(),P=0,D=function(){function Chip(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];(0,k.Z)(this,Chip),(0,Z.Z)(this,"name",void 0),(0,Z.Z)(this,"id",P++),(0,Z.Z)(this,"ins",new _),(0,Z.Z)(this,"outs",new _),(0,Z.Z)(this,"pins",new _),(0,Z.Z)(this,"parts",new Set),(0,Z.Z)(this,"clockedPins",void 0),this.name=n;var a,u=(0,v.Z)(t);try{for(u.s();!(a=u.n()).done;){var o=a.value,c=void 0!==o.pin?o:parsePinDecl(o),l=c.pin,h=c.width,d=void 0===h?1:h;this.ins.insert(new A(l,d))}}catch(R){u.e(R)}finally{u.f()}var p,f=(0,v.Z)(e);try{for(f.s();!(p=f.n()).done;){var m=p.value,y=void 0!==m.pin?m:parsePinDecl(m),b=y.pin,g=y.width,x=void 0===g?1:g;this.outs.insert(new A(b,x))}}catch(R){f.e(R)}finally{f.f()}var T,S=(0,v.Z)(r);try{for(S.s();!(T=S.n()).done;){var C=T.value,M=void 0!==C.pin?C:parsePinDecl(C),I=M.pin,O=M.width,D=void 0===O?1:O;this.pins.insert(new A(I,D))}}catch(R){S.e(R)}finally{S.f()}this.clockedPins=new Set(s),w.S.get().$.subscribe((function(){return i.eval()}))}return(0,y.Z)(Chip,[{key:"clocked",get:function get(){if(this.clockedPins.size>0)return!0;var t,e=(0,v.Z)(this.parts);try{for(e.s();!(t=e.n()).done;){if(t.value.clocked)return!0}}catch(n){e.e(n)}finally{e.f()}return!1}},{key:"reset",value:function reset(){var t,e=(0,v.Z)(this.ins);try{for(e.s();!(t=e.n()).done;){var n=(0,l.Z)(t.value,2);n[0];n[1].busVoltage=0}}catch(s){e.e(s)}finally{e.f()}var i,r=(0,v.Z)(this.parts);try{for(r.s();!(i=r.n()).done;){i.value.reset()}}catch(s){r.e(s)}finally{r.f()}this.eval()}},{key:"in",value:function _in(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"in";return(0,b.hu)(this.hasIn(t),"No in pin ".concat(t)),this.ins.get(t)}},{key:"out",value:function out(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"out";return(0,b.hu)(this.hasOut(t),"No in pin ".concat(t)),this.outs.get(t)}},{key:"hasIn",value:function hasIn(t){return this.ins.has(t)}},{key:"hasOut",value:function hasOut(t){return this.outs.has(t)}},{key:"pin",value:function pin(t){return(0,b.hu)(this.pins.has(t)),this.pins.get(t)}},{key:"get",value:function get(t,e){return this.ins.has(t)?this.ins.get(t):this.outs.has(t)?this.outs.get(t):this.pins.has(t)?this.pins.get(t):this.getBuiltin(t,e)}},{key:"getBuiltin",value:function getBuiltin(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(B.includes(t)){var n,i=(0,v.Z)(this.parts);try{for(i.s();!(n=i.n()).done;){var r=n.value,s=r.get(t,e);if(s)return s}}catch(a){i.e(a)}finally{i.f()}}}},{key:"isOutPin",value:function isOutPin(t){return this.outs.has(t)}},{key:"wire",value:function wire(t,e){this.parts.add(t);var n,i=(0,v.Z)(e);try{for(i.s();!(n=i.n()).done;){var r=n.value,s=r.to,a=r.from;t.isOutPin(s.name)?this.wireOutPin(t,s,a):this.wireInPin(t,s,a)}}catch(u){i.e(u)}finally{i.f()}}},{key:"findPin",value:function findPin(t,e){return"true"===t.toLowerCase()||"1"===t?I:"false"===t.toLowerCase()||"0"===t?O:this.ins.has(t)?this.ins.get(t):this.outs.has(t)?this.outs.get(t):this.pins.emplace(t,e)}},{key:"wireOutPin",value:function wireOutPin(t,e,n){var i,r,s,a=(0,b.kP)(t.outs.get(e.name),(function(){return"Cannot wire to missing pin ".concat(e.name)}));null!==(i=e.width)&&void 0!==i||(e.width=a.width);var u=this.findPin(n.name,null!==(r=n.width)&&void 0!==r?r:e.width),o=this.pins.has(u.name);if(null!==(s=n.width)&&void 0!==s||(n.width=u.width),u instanceof M)throw new Error("Cannot wire to constant bus");o&&u instanceof A&&u.ensureWidth(n.start+n.width),(n.start>0||n.width!==u.width)&&(u=new S(u,n.start,n.width)),(e.start>0||e.width!==u.width)&&(u=new C(u,e.start,e.width)),a.connect(u)}},{key:"wireInPin",value:function wireInPin(t,e,n){var i,r,s,a=(0,b.kP)(t.ins.get(e.name),(function(){return"Cannot wire to missing pin ".concat(e.name)}));null!==(i=e.width)&&void 0!==i||(e.width=a.width);var u=this.findPin(n.name,null!==(r=n.width)&&void 0!==r?r:e.width);null!==(s=n.width)&&void 0!==s||(n.width=u.width),(e.start>0||e.width!==u.width)&&(a=new S(a,e.start,e.width)),["true","false"].includes(u.name)||(n.start>0||n.width!==u.width)&&(a=new C(a,n.start,n.width)),u.connect(a)}},{key:"eval",value:function _eval(){var t,e=(0,v.Z)(this.parts);try{for(e.s();!(t=e.n()).done;){var n=t.value;I.next.forEach((function(t){return t.busVoltage=I.busVoltage})),O.next.forEach((function(t){return t.busVoltage=O.busVoltage})),n.eval()}}catch(i){e.e(i)}finally{e.f()}}},{key:"tick",value:function tick(){this.eval()}},{key:"tock",value:function tock(){this.eval()}},{key:"remove",value:function remove(){var t,e=(0,v.Z)(this.parts);try{for(e.s();!(t=e.n()).done;){t.value.remove()}}catch(n){e.e(n)}finally{e.f()}}},{key:"load",value:function(){var t=(0,c.Z)((0,o.Z)().mark((function _callee(t,e){var n,i,r;return(0,o.Z)().wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:n=(0,v.Z)(this.parts),s.prev=1,n.s();case 3:if((i=n.n()).done){s.next=10;break}if("ROM32K"!==(r=i.value).name){s.next=8;break}return s.next=8,r.load(t,e);case 8:s.next=3;break;case 10:s.next=15;break;case 12:s.prev=12,s.t0=s.catch(1),n.e(s.t0);case 15:return s.prev=15,n.f(),s.finish(15);case 18:case"end":return s.stop()}}),_callee,this,[[1,12,15,18]])})));return function load(e,n){return t.apply(this,arguments)}}()}]),Chip}(),R=function(t){(0,p.Z)(Low,t);var e=(0,f.Z)(Low);function Low(){var t;return(0,k.Z)(this,Low),(t=e.call(this,[],[])).outs.insert(O),t}return(0,y.Z)(Low)}(D),E=new WeakMap,L=function(t){(0,p.Z)(ClockedChip,t);var e=(0,f.Z)(ClockedChip);function ClockedChip(){var t;(0,k.Z)(this,ClockedChip);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i)),(0,a.Z)((0,d.Z)(t),E,{writable:!0,value:w.S.get().$.subscribe((function(e){e.level===T?t.tock():t.tick()}))}),t}return(0,y.Z)(ClockedChip,[{key:"clocked",get:function get(){return!0}},{key:"remove",value:function remove(){(0,u.Z)(this,E).unsubscribe(),(0,r.Z)((0,s.Z)(ClockedChip.prototype),"remove",this).call(this)}},{key:"reset",value:function reset(){(0,r.Z)((0,s.Z)(ClockedChip.prototype),"reset",this).call(this),this.tick(),this.tock()}}]),ClockedChip}(D);function mask(t){return Math.pow(2,t)-1}var B=["Register","ARegister","DRegister","PC","RAM8","RAM64","RAM512","RAM4K","RAM16K","ROM32K","Screen","Keyboard","Memory"]},6531:function(t,e,n){n.d(e,{S:function(){return h}});var i,r=n(2951),s=n(1976),a=n(4649),u=n(1496),o=n(9810),c=n(5541),l=n(6329),h=function(){function Clock(){(0,r.Z)(this,Clock),(0,a.Z)(this,"level",l.yE),(0,a.Z)(this,"ticks",0),(0,a.Z)(this,"subject",new u.X({level:this.level,ticks:this.ticks})),(0,a.Z)(this,"frameSubject",new o.x),(0,a.Z)(this,"resetSubject",new o.x),(0,a.Z)(this,"$",this.subject),(0,a.Z)(this,"frame$",this.frameSubject),(0,a.Z)(this,"reset$",this.resetSubject)}return(0,s.Z)(Clock,[{key:"isHigh",get:function get(){return this.level===l.lj}},{key:"isLow",get:function get(){return this.level===l.yE}},{key:"next",value:function next(){this.subject.next({level:this.level,ticks:this.ticks})}},{key:"reset",value:function reset(){this.level=l.yE,this.ticks=0,this.next(),this.resetSubject.next()}},{key:"tick",value:function tick(){(0,c.hu)(this.level===l.yE,"Can only tick up from LOW"),this.level=l.lj,this.next()}},{key:"tock",value:function tock(){(0,c.hu)(this.level===l.lj,"Can only tock down from HIGH"),this.level=l.yE,this.ticks+=1,this.next()}},{key:"toggle",value:function toggle(){this.level===l.lj?this.tock():this.tick()}},{key:"eval",value:function _eval(){this.tick(),this.tock()}},{key:"frame",value:function frame(){this.frameSubject.next()}},{key:"toString",value:function toString(){return"".concat(this.ticks).concat(this.level===l.lj?"+":"")}}],[{key:"get",value:function get(){return void 0===i&&(i=new Clock),i}}]),Clock}()},6693:function(t,e,n){n.d(e,{Bb:function(){return alu},NM:function(){return i},PH:function(){return r},Uc:function(){return s},lK:function(){return a},vU:function(){return u}});var i={op:{42:"0",63:"1",58:"-1",12:"x",48:"y",13:"!x",49:"!y",15:"-x",51:"-y",31:"x+1",55:"y+1",14:"x-1",50:"y-1",2:"x+y",19:"x-y",7:"y-x",0:"x&y",21:"x|y"}},r={asm:{0:42,1:63,"-1":58,D:12,A:48,M:48,"!D":13,"!A":49,"-D":15,"-A":51,"D+1":31,"A+1":55,"D-1":14,"A-1":50,"D+A":2,"D-A":19,"D-M":19,"A-D":7,"D&A":0,"D&M":0,"D|A":21,"D|M":21},op:{42:"0",63:"1",58:"-1",12:"D",48:"A",13:"!D",49:"!A",15:"-D",51:"-A",31:"D+1",55:"A+1",14:"D-1",50:"A-1",2:"D+A",19:"D-A",7:"A-D",0:"D&A",21:"D|A"}},s={asm:{"":0,M:1,D:2,MD:3,A:4,AM:5,AD:6,AMD:7},op:{0:"",1:"M",2:"D",3:"MD",4:"A",5:"AM",6:"AD",7:"AMD"}},a={asm:{"":0,JGT:1,JEQ:2,JGE:3,JLT:4,JNE:5,JLE:6,JMP:7},op:{0:"",1:"JGT",2:"JEQ",3:"JGE",4:"JLT",5:"JNE",6:"JLE",7:"JMP"}},u={1:"Positive",0:"Zero",15:"Negative",Positive:1,Zero:0,Negative:15};function alu(t,e,n){var i=0;switch(t){case 42:i=0;break;case 63:i=1;break;case 58:i=-1;break;case 12:i=e;break;case 48:i=n;break;case 13:i=~e;break;case 49:i=~n;break;case 15:i=-e;break;case 51:i=-n;break;case 31:i=e+1;break;case 55:i=n+1;break;case 14:i=e-1;break;case 50:i=n-1;break;case 2:i=e+n;break;case 19:i=e-n;break;case 7:i=n-e;break;case 0:i=e&n;break;case 21:i=e|n}return[i&=65535,0===i?u.Zero:32768&i?u.Negative:u.Positive]}},134:function(t,e,n){n.d(e,{Ff:function(){return cpuTock},Jx:function(){return decode},Z9:function(){return C},Zu:function(){return emptyState},aL:function(){return cpuTick}});var i=n(2951),r=n(1976),s=n(7538),a=n(4649),u=n(2648),o=n(3943),c=n(1026),l=n(6693),h=n(5838);function emptyState(){return{A:0,D:0,PC:0,ALU:0,flag:l.vU.Zero}}var d=32768,p=36864,f=36864,v=36864,m=4032,k=32800,y=32784,Z=32776,b=32769,g=32770,w=32772;function decode(t){function bit(e){return(t&e)===e}return{c:bit(d),x1:bit(p),x2:bit(f),am:bit(v),op:(t&m)>>6,d1:bit(k),d2:bit(y),d3:bit(Z),j1:bit(b),j2:bit(g),j3:bit(w)}}function cpuTick(t,e){var n=t.inM,i=t.instruction,r=e.A,s=e.D,a=e.PC,u=decode(i),o=u.am?n:r,h=(0,l.Bb)(u.op,s,o),d=(0,c.Z)(h,2);return[{A:r,D:s,PC:a+1,ALU:d[0],flag:d[1]},u.d3]}function cpuTock(t,e){var n=t.inM,i=t.instruction,r=t.reset,s=e.A,a=e.D,u=e.PC,o=e.ALU,c=e.flag,h=decode(i),d=h.j1&&c===l.vU.Positive,p=h.j2&&c===l.vU.Zero,f=h.j3&&c===l.vU.Negative;u=r?0:d||p||f?s:u,h.d2&&(a=o);var v=s;h.c?h.d1&&(s=o):s=32767&i;var m=h.am?n:s,k=(0,l.Bb)(h.op,a,m);return o=k[0],c=k[1],[{addressM:h.d3?v:s,outM:o,writeM:h.d3},{A:s,D:a,ALU:o,flag:c,PC:u}]}var x=new WeakMap,T=new WeakMap,A=new WeakMap,S=new WeakMap,C=function(){function CPU(t){var e=t.RAM,n=void 0===e?new h.FH:e,r=t.ROM;(0,i.Z)(this,CPU),(0,a.Z)(this,"RAM",void 0),(0,a.Z)(this,"ROM",void 0),(0,a.Z)(this,"Screen",void 0),(0,a.Z)(this,"Keyboard",void 0),(0,s.Z)(this,x,{writable:!0,value:0}),(0,s.Z)(this,T,{writable:!0,value:0}),(0,s.Z)(this,A,{writable:!0,value:0}),(0,s.Z)(this,S,{writable:!0,value:{A:0,D:0,PC:0,ALU:0,flag:l.vU.Zero}}),this.RAM=n,this.ROM=r,this.Screen=new h.kG(this.RAM,h.yJ,h.GD),this.Keyboard=new h.qT(this.RAM)}return(0,r.Z)(CPU,[{key:"state",get:function get(){return(0,o.Z)(this,S)}},{key:"PC",get:function get(){return(0,o.Z)(this,x)}},{key:"A",get:function get(){return(0,o.Z)(this,T)}},{key:"D",get:function get(){return(0,o.Z)(this,A)}},{key:"setA",value:function setA(t){(0,u.Z)(this,T,t)}},{key:"setD",value:function setD(t){(0,u.Z)(this,A,t)}},{key:"setPC",value:function setPC(t){(0,u.Z)(this,x,t)}},{key:"reset",value:function reset(){(0,u.Z)(this,x,0),(0,u.Z)(this,T,0),(0,u.Z)(this,A,0)}},{key:"tick",value:function tick(){var t=function cpu(t,e){var n=cpuTick(t,e),i=(0,c.Z)(n,2),r=i[0];return i[1],cpuTock(t,r)}({inM:this.RAM.get((0,o.Z)(this,T)),instruction:this.ROM.get((0,o.Z)(this,x)),reset:!1},{A:(0,o.Z)(this,T),D:(0,o.Z)(this,A),PC:(0,o.Z)(this,x),ALU:(0,o.Z)(this,A),flag:l.vU.Zero}),e=(0,c.Z)(t,2),n=e[0],i=n.addressM,r=n.outM,s=n.writeM,a=e[1],h=a.A,d=a.D,p=a.PC;(0,u.Z)(this,T,h),(0,u.Z)(this,A,d),(0,u.Z)(this,x,p),s&&this.RAM.set(i,r)}}]),CPU}()},5838:function(t,e,n){n.d(e,{FH:function(){return x},GD:function(){return m},I2:function(){return v},eD:function(){return w},eu:function(){return y},kG:function(){return b},qT:function(){return g},yJ:function(){return k},zp:function(){return Z}});var i=n(7591),r=n(4337),s=n(649),a=n(1092),u=n(7791),o=n(2951),c=n(1976),l=n(4649),h=n(5541),d=n(7693),p=n(326),f=n(7930),v=["bin","dec","hex","asm"],m=16384,k=131072,y=24576,Z=function(){function Memory(t){(0,o.Z)(this,Memory),(0,l.Z)(this,"memory",void 0),this.memory=new Int16Array(t)}return(0,c.Z)(Memory,[{key:"size",get:function get(){return this.memory.length}},{key:"get",value:function get(t){var e;return t<0||t>=this.size?65535:null!==(e=this.memory[t])&&void 0!==e?e:0}},{key:"set",value:function set(t,e){t>=0&&t<this.size&&(this.memory[t]=65535&e)}},{key:"reset",value:function reset(){this.memory.fill(0)}},{key:"update",value:function update(t,e,n){var i;switch(n){case"asm":i=(0,d.op)(e);break;case"bin":i=(0,p.C$)(e);break;case"hex":i=(0,p.Af)(e);break;default:i=(0,p.o5)(e)}isFinite(i)&&i<=65535&&this.set(t,i)}},{key:"load",value:function(){var t=(0,u.Z)((0,a.Z)().mark((function _callee(t,e){return(0,a.Z)().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.t0=this,n.next=4,(0,f.zD)(t,e);case 4:n.t1=n.sent,n.t0.loadBytes.call(n.t0,n.t1),n.next=11;break;case 8:throw n.prev=8,n.t2=n.catch(0),new Error("Memory Failed to load file ".concat(e));case 11:case"end":return n.stop()}}),_callee,this,[[0,8]])})));return function load(e,n){return t.apply(this,arguments)}}()},{key:"loadBytes",value:function loadBytes(t){this.memory.set(new Int16Array(t)),this.memory.fill(0,t.length,this.size)}},{key:"range",value:function range(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;return(0,s.Z)(this.memory.slice(t,e))}},{key:"map",value:function map(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.size;return(0,a.Z)().mark((function _callee2(){var r;return(0,a.Z)().wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:(0,h.hu)(n<i),r=n;case 2:if(!(r<i)){s.next=8;break}return s.next=5,t(r,e.get(r));case 5:r++,s.next=2;break;case 8:case"end":return s.stop()}}),_callee2)}))()}}]),Memory}(),b=function(){function SubMemory(t,e,n){(0,o.Z)(this,SubMemory),(0,l.Z)(this,"parent",void 0),(0,l.Z)(this,"size",void 0),(0,l.Z)(this,"offset",void 0),this.parent=t,this.size=e,this.offset=n}return(0,c.Z)(SubMemory,[{key:"get",value:function get(t){return t<0||t>=this.size?65535:this.parent.get(this.offset+t)}},{key:"set",value:function set(t,e){t>=0&&t<this.size&&this.parent.set(t+this.offset,e)}},{key:"reset",value:function reset(){for(var t=0;t<this.size;t++)this.set(t,0)}},{key:"update",value:function update(t,e,n){t>=0&&t<this.size&&this.parent.update(t+this.offset,e,n)}},{key:"load",value:function load(t,e){return this.parent.load(t,e)}},{key:"loadBytes",value:function loadBytes(t){return this.parent.loadBytes(t)}},{key:"range",value:function range(t,e){return this.parent.range(t,e)}},{key:"map",value:function map(t,e,n){return this.parent.map(t,e,n)}}]),SubMemory}(),g=function(t){(0,i.Z)(MemoryKeyboard,t);var e=(0,r.Z)(MemoryKeyboard);function MemoryKeyboard(t){return(0,o.Z)(this,MemoryKeyboard),e.call(this,t,1,24576)}return(0,c.Z)(MemoryKeyboard,[{key:"getKey",value:function getKey(){return this.get(0)}},{key:"setKey",value:function setKey(t){this.set(0,65535&t)}},{key:"clearKey",value:function clearKey(){this.set(0,0)}}]),MemoryKeyboard}(b),w=function(t){(0,i.Z)(ROM,t);var e=(0,r.Z)(ROM);function ROM(t){(0,o.Z)(this,ROM);var n=new Int16Array(ROM.SIZE);return n.set(t),e.call(this,n)}return(0,c.Z)(ROM)}(Z);(0,l.Z)(w,"SIZE",32768);var x=function(t){(0,i.Z)(RAM,t);var e=(0,r.Z)(RAM);function RAM(){return(0,o.Z)(this,RAM),e.call(this,RAM.SIZE)}return(0,c.Z)(RAM)}(Z);(0,l.Z)(x,"SIZE",32768)},7930:function(t,e,n){n.d(e,{zD:function(){return load}});var i=n(1092),r=n(7791),s=n(2724);function load(t,e){return _load.apply(this,arguments)}function _load(){return(_load=(0,r.Z)((0,i.Z)().mark((function _callee(t,e){return(0,i.Z)().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(!e.endsWith(".hack")){n.next=2;break}return n.abrupt("return",loadHack(t,e));case 2:if(!e.endsWith(".asm")){n.next=4;break}return n.abrupt("return",loadAsm(t,e));case 4:throw new Error("Cannot load file without hack or asm extension ".concat(e));case 5:case"end":return n.stop()}}),_callee)})))).apply(this,arguments)}function loadAsm(t,e){return _loadAsm.apply(this,arguments)}function _loadAsm(){return(_loadAsm=(0,r.Z)((0,i.Z)().mark((function _callee2(t,e){return(0,i.Z)().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=s,n.next=3,t.readFile(e);case 3:return n.t1=n.sent,n.abrupt("return",n.t0.loadAsm.call(n.t0,n.t1));case 5:case"end":return n.stop()}}),_callee2)})))).apply(this,arguments)}function loadHack(t,e){return _loadHack.apply(this,arguments)}function _loadHack(){return(_loadHack=(0,r.Z)((0,i.Z)().mark((function _callee3(t,e){return(0,i.Z)().wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=s,n.next=3,t.readFile(e);case 3:return n.t1=n.sent,n.abrupt("return",n.t0.loadHack.call(n.t0,n.t1));case 5:case"end":return n.stop()}}),_callee3)})))).apply(this,arguments)}},1510:function(t,e,n){n.d(e,{eP:function(){return a},rJ:function(){return o},y1:function(){return u},Pz:function(){return makeParser}});var i=n(5640),r=n(326),s=n(4625),a="Unknown parse error",u={Base:i.Z.grammar('\nBase {\n  Root = Value*\n\n  At = at\n  Bang = bang\n  Bar = bar\n  CloseAngle = closeAngle\n  CloseBrace = closeBrace\n  CloseParen = closeParen\n  CloseSquare = closeSquare\n  Comma = comma\n  Dollar = dollar\n  Dot = dot\n  DoubleQuote = doubleQuote\n  Equal = equal\n  OpenAngle = openAngle\n  OpenBrace = openBrace\n  OpenParen = openParen\n  OpenSquare = openSquare\n  Percent = percent\n  Semi = semi\n  Underscore = underscore\n\n  at = "@"\n  bang = "!"\n  bar = "|"\n  closeAngle = ">"\n  closeBrace = "}"\n  closeParen = ")"\n  closeSquare = "]"\n  comma = ","\n  dollar = "$"\n  dot = "."\n  doubleQuote = "\\""\n  equal = "="\n  minus = "-"\n  newline = "\\r"? "\\n"\n  openAngle = "<"\n  openBrace = "{"\n  openParen = "("\n  openSquare = "["\n  percent = "%"\n  semi = ";"\n  underscore = "_"\n\n  Value = identifier | number | boolean\n\n  boolean = true | false\n  True = true\n  False = false\n  true = "true"\n  false = "false"\n\n  Name = identifier\n  identifier = (letter|underscore) (alnum|underscore|dot|dollar)*\n\n  Number = number\n  number = hexNumber | decNumber | binNumber\n  binNumber = ("%B") ("0"|"1")+\n  hexNumber = ("%X") hexDigit+\n  decNumber = ("%D")? (wholeDec | realDec)\n  wholeDec = minus? digit+\n  realDec = minus? digit* "." digit+\n\n  String = DoubleQuote (~doubleQuote any)* doubleQuote\n  \n  spaces := (lineComment | comment | space)*\n  commentStart = "/*"\n  commentEnd = "*/"\n  comment = commentStart (~commentEnd any)* commentEnd\n  lineCommentStart = "//"\n  lineComment = lineCommentStart (~"\\n" any)* "\\n"\n\n  List<elem, sep> = NonemptyListOf<elem, sep> sep?\n  EmptyList<elem, sep> = EmptyList<elem, sep> sep?\n}')},o=u.Base.createSemantics();function makeParser(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t.root};return function parse(i){try{var r,u,o=t.match(i);if(o.succeeded()){var c=e(o),l=n(c);return(0,s.Ok)(l)}return(0,s.UG)({message:null!==(r=o.message)&&void 0!==r?r:a,shortMessage:null!==(u=o.shortMessage)&&void 0!==u?u:a})}catch(h){return(0,s.UG)(h)}}}o.extendOperation("asIteration",{List:function List(t,e){return t.asIteration()}}),o.addAttribute("value",{decNumber:function decNumber(t,e){return(0,r.o5)(e.sourceString)},wholeDec:function wholeDec(t,e){return(0,r.o5)(e.sourceString)},binNumber:function binNumber(t,e){return(0,r.C$)(e.sourceString)},hexNumber:function hexNumber(t,e){return(0,r.Af)(e.sourceString)},Number:function Number(t){return t.value},Name:function Name(t){return t.name},identifier:function identifier(t,e){return this.sourceString}}),o.addAttribute("name",{identifier:function identifier(t,e){return this.sourceString},Name:function Name(t){var e;return null===(e=this.child(0))||void 0===e?void 0:e.name}}),o.addAttribute("String",{String:function String(t,e,n){return e.sourceString}})},8365:function(t,e,n){n.d(e,{lA:function(){return o}});var i=n(5640),r=n(1510),s="\nCmp <: Base {\n  Root := line*\n  line = bar cell+ newline?\n  cell = cellvalue bar\n  cellvalue = (~(bar|newline) any)*\n}",a=i.Z.grammar(s,r.y1),u=a.extendSemantics(r.rJ);u.addAttribute("cell",{cell:function cell(t,e){return t.sourceString}}),u.addAttribute("line",{line:function line(t,e,n){return e.children.map((function(t){return t.cell}))}}),u.addAttribute("root",{Root:function Root(t){return t.children.map((function(t){return t.line}))}});var o={grammar:s,semantics:u,parser:a,parse:(0,r.Pz)(a,u)}},9647:function(t,e,n){n.d(e,{qH:function(){return o}});var i=n(5640),r=n(1510),s='\nTst <: Base {\n  Root := Tst\n  Tst = (TstStatement | TstRepeat | TstWhile)+\n\n  TstRepeat = Repeat Number? OpenBrace TstStatement+ CloseBrace\n  TstWhile = While Condition OpenBrace TstStatement+ CloseBrace\n  TstStatement = List<TstOperation, ","> (Semi | Bang)\n\n  TstOperation =\n    | TstFileOperation\n    | TstOutputListOperation\n    | TstEvalOperation\n    | TstSetOperation\n    | TstOutputOperation\n    | TstEchoOperation\n    | TstClearEchoOperation\n    | TstLoadROMOperation\n\n  TstLoadROMOperation = ROM32K Load FileName\n  TstFileOperation = FileOperation FileName\n  TstOutputListOperation = "output-list" OutputFormat+\n  OutputFormat = Name Index? percent FormatStyle wholeDec dot wholeDec dot wholeDec\n  TstSetOperation = Set Name Index? Number\n  Index = OpenSquare wholeDec? CloseSquare\n  Condition = Value CompareOp Value\n  TstEvalOperation = Eval | Tick | Tock | TickTock\n  TstOutputOperation = Output\n  TstEchoOperation = Echo String\n  TstClearEchoOperation = ClearEcho\n\n  FileName = Name\n  FileOperation = "load" | "output-file" | "compare-to"\n\n  Set = "set"\n  Eval = "eval"\n  Tick = "tick"\n  Tock = "tock"\n  TickTock = "ticktock"\n  Echo = "echo"\n  Repeat = "repeat"\n  ClearEcho = "clear-echo"\n  Output = "output"\n  OutputList = "output-list"\n  FormatStyle = "B"|"D"|"S"|"X"\n  ROM32K = "ROM32K"\n  Load = "load"\n  While = "while"\n\n  CompareOp = "<>" | "<=" | ">=" | "=" | "<" | ">"\n}',a=i.Z.grammar(s,r.y1),u=a.extendSemantics(r.rJ);u.extendAttribute("value",{Index:function Index(t,e,n){var i,r;return null!==(i=null===e||void 0===e||null===(r=e.child(0))||void 0===r?void 0:r.value)&&void 0!==i?i:-1}}),u.extendAttribute("name",{FileName:function FileName(t){return t.name}}),u.addAttribute("index",{Index:function Index(t,e,n){var i,r;return null!==(i=null===(r=e.child(0))||void 0===r?void 0:r.value)&&void 0!==i?i:0}}),u.addAttribute("format",{OutputFormat:function OutputFormat(t,e,n,i,r,s,a,u,o){var c,l,h=t.name,d=i.sourceString,p=r.value,f=a.value,v=o.value;return{id:h,builtin:void 0!==(null===e||void 0===e?void 0:e.child(0)),address:null!==(c=null===e||void 0===e||null===(l=e.child(0))||void 0===l?void 0:l.value)&&void 0!==c?c:-1,style:d,width:f,lpad:p,rpad:v}}}),u.addAttribute("operation",{TstEvalOperation:function TstEvalOperation(t){return{op:t.sourceString}},TstOutputOperation:function TstOutputOperation(t){return{op:"output"}},TstOutputListOperation:function TstOutputListOperation(t,e){return{op:"output-list",spec:e.children.map((function(t){return t.format}))}},TstSetOperation:function TstSetOperation(t,e,n,i){var r,s,a={op:"set",id:e.name,value:i.value},u=null===(r=n.child(0))||void 0===r||null===(s=r.child(1))||void 0===s?void 0:s.child(0);return u&&(a.index=u.value),a},TstEchoOperation:function TstEchoOperation(t,e){return{op:"echo",message:e.String}},TstClearEchoOperation:function TstClearEchoOperation(t){return{op:"clear-echo"}},TstLoadROMOperation:function TstLoadROMOperation(t,e,n){return{op:"loadRom",file:n.name}},TstFileOperation:function TstFileOperation(t,e){return{op:t.sourceString,file:e.sourceString}}}),u.addAttribute("condition",{Condition:function Condition(t,e,n){var i=t.value,r=e.sourceString;return{left:i,right:n.value,op:r}}}),u.addAttribute("statement",{TstWhile:function TstWhile(t,e,n,i,r){return{statements:i.children.map((function(t){return t.statement})),condition:e.condition,span:{start:t.source.startIdx,end:e.source.endIdx}}},TstRepeat:function TstRepeat(t,e,n,i,r){var s,a;return{statements:i.children.map((function(t){return t.statement})),count:null!==(s=null===(a=e.child(0))||void 0===a?void 0:a.value)&&void 0!==s?s:-1,span:{start:t.source.startIdx,end:e.source.endIdx}}},TstStatement:function TstStatement(t,e){var n={ops:t.asIteration().children.map((function(t){return t.operation})),span:{start:this.source.startIdx,end:this.source.endIdx}};return"!"===e.sourceString&&(n.break=!0),n}}),u.addAttribute("tst",{Tst:function Tst(t){return{lines:t.children.map((function(t){return t.statement}))}}}),u.addAttribute("root",{Root:function Root(t){return t.tst}});var o={grammar:s,semantics:u,parser:a,parse:(0,r.Pz)(a,u)}},2724:function(t,e,n){n.r(e),n.d(e,{loadAsm:function(){return loadAsm},loadBlob:function(){return loadBlob},loadHack:function(){return loadHack}});var i=n(1092),r=n(7791),s=n(4625),a=n(726),u=n(5541),o=n(5640),c=n(6693),l=n(5838),h=n(7693),d=n(1510),p='\nASM <: Base {\n  Root := ASM\n  ASM = Instruction*\n  \n  Instruction = Label|AInstruction|CInstruction\n  \n  Label = OpenParen identifier closeParen\n  AInstruction = at (identifier | decNumber)\n  CInstruction = assign? op jmp?\n  \n  assign = (\n      "AMD"\n      | "AM"\n      | "AD"\n      | "MD"\n      | "M"\n      | "D"\n      | "A"\n      ) equal\n      \n  op =\n      | "0" | "1" | "-1"\n      | "!D" | "!A" | "!M"\n      | "-D" | "-A" | "-M"\n      | "D+1" | "A+1" | "M+1"\n      | "D-1" | "A-1" | "M-1"\n      | "D+A" | "D+M"\n      | "D-A" | "D-M"\n      | "A-D" | "M-D"\n      | "D&A" | "D&M"\n      | "D|A" | "D|M"\n      | "D" | "A" | "M"\n\n\n  jmp = semi ("JGT" | "JEQ" | "JGE" | "JLT" | "JNE" | "JLE" | "JMP")\n}',f=o.Z.grammar(p,d.y1),v=f.extendSemantics(d.rJ);function isALabelInstruction(t){return void 0!==t.label}v.addAttribute("root",{Root:function Root(t){return this.asm}}),v.addAttribute("asm",{Root:function Root(t){return{instructions:t.child(0).children.map((function(t){return t.instruction}))}}}),v.addAttribute("instruction",{AInstruction:function AInstruction(t,e){try{return{type:"A",label:e.name}}catch(n){}try{return{type:"A",value:e.value}}catch(n){}throw new Error("AsmAInstruction must have either a name or a value")},CInstruction:function CInstruction(t,e,n){var i,r,s,a,u=null===(i=t.child(0))||void 0===i||null===(r=i.child(0))||void 0===r?void 0:r.sourceString,o=e.sourceString.replace("M","A"),l=null===(s=n.child(0))||void 0===s||null===(a=s.child(1))||void 0===a?void 0:a.sourceString,h=t.sourceString.includes("M")||e.sourceString.includes("M"),d={type:"C",op:c.PH.asm[o],isM:h};return l&&(d.jump=c.lK.asm[l]),u&&(d.store=c.Uc.asm[u]),d},Label:function Label(t,e,n){return{type:"L",label:e.name}}});var m={grammar:p,semantics:v,parser:f,parse:(0,d.Pz)(f,v),passes:{fillLabel:function fillLabel(t){var e,n=16,i=new Map([["R0",0],["R1",1],["R2",2],["R3",3],["R4",4],["R5",5],["R6",6],["R7",7],["R8",8],["R9",9],["R10",10],["R11",11],["R12",12],["R13",13],["R14",14],["R15",15],["SP",0],["LCL",1],["ARG",2],["THIS",3],["THAT",4],["SCREEN",l.GD],["KBD",l.eu]]),r=[],s=0,o=(0,a.Z)(t.instructions);try{for(o.s();!(e=o.n()).done;){var c=e.value;if("L"!==c.type)s+=1,"A"===c.type&&isALabelInstruction(c)&&r.push(c);else{if(i.has(c.label))throw new Error("ASM Duplicate label ".concat(c.label));i.set(c.label,s)}}}catch(h){o.e(h)}finally{o.f()}r.forEach((function transmuteAInstruction(t){var e=function getLabelValue(t){return i.has(t)||(i.set(t,n),n+=1),(0,u.kP)(i.get(t),"Label not in symbols: ".concat(t))}(t.label);t.value=e,delete t.label}))},emit:function emit(t){return t.instructions.map((function(t){if("A"===t.type){if(isALabelInstruction(t))throw new Error("ASM Emitting unfilled A instruction");return t.value}if("C"===t.type)return(0,h.p)(t.isM,t.op,t.store,t.jump)})).filter((function(t){return void 0!==t}))}}},k=n(326);function loadAsm(t){return _loadAsm.apply(this,arguments)}function _loadAsm(){return _loadAsm=(0,r.Z)((0,i.Z)().mark((function _callee(t){var e;return(0,i.Z)().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,s.Wg)(m.parse(t)),m.passes.fillLabel(e),n.abrupt("return",m.passes.emit(e));case 3:case"end":return n.stop()}}),_callee)}))),_loadAsm.apply(this,arguments)}function loadHack(t){return _loadHack.apply(this,arguments)}function _loadHack(){return(_loadHack=(0,r.Z)((0,i.Z)().mark((function _callee2(t){return(0,i.Z)().wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.split("\n").filter((function(t){return""!==t.trim()})).map(k.C$));case 1:case"end":return e.stop()}}),_callee2)})))).apply(this,arguments)}function loadBlob(t){return _loadBlob.apply(this,arguments)}function _loadBlob(){return(_loadBlob=(0,r.Z)((0,i.Z)().mark((function _callee3(t){return(0,i.Z)().wrap((function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.split("\n").filter((function(t){return""!==t.trim()})).map(k.t1));case 1:case"end":return e.stop()}}),_callee3)})))).apply(this,arguments)}},3389:function(t,e,n){n.d(e,{o6:function(){return A},l1:function(){return T}});var i=n(7169),r=n(3243),s=n(7597),a=n(7591),u=n(4337),o=n(726),c=n(1092),l=n(7791),h=n(2951),d=n(1976),p=n(4649),f=n(5541),v=n(9956),m=n(6329),k=n(6531),y=n(9422),Z=n(326),b=function(){function Output(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"%B1.1.1",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;if((0,h.Z)(this,Output),(0,p.Z)(this,"variable",void 0),(0,p.Z)(this,"fmt",void 0),(0,p.Z)(this,"lPad",void 0),(0,p.Z)(this,"rPad",void 0),(0,p.Z)(this,"len",void 0),(0,p.Z)(this,"index",void 0),(0,p.Z)(this,"builtin",void 0),this.variable=t,e.startsWith("%")&&void 0===n&&void 0===i&&void 0===r){var u,o=null===(u=e.match((0,y.Z)(/^%([BDXS])(\d+)\.(\d+)\.(\d+)$/,{fmt:1,lPad:2,len:3,rPad:4})))||void 0===u?void 0:u.groups,c=o.fmt,l=o.lPad,d=o.rPad,v=o.len;this.fmt=c,this.lPad=parseInt(l),this.rPad=parseInt(d),this.len=parseInt(v),this.builtin=!1,this.index=-1}else(0,f.hu)(["B","X","D","S"].includes(e[0])),this.fmt=e[0],this.len=null!==n&&void 0!==n?n:3,this.lPad=null!==i&&void 0!==i?i:1,this.rPad=null!==r&&void 0!==r?r:1,this.builtin=null!==s&&void 0!==s&&s,this.index=null!==a&&void 0!==a?a:-1}return(0,d.Z)(Output,[{key:"header",value:function header(t){var e="".concat(this.variable);if(this.builtin){var n=this.index>=0?this.index:"";e="".concat(e,"[").concat(n,"]")}return e.length>this.len+this.lPad+this.rPad?e.substring(0,this.len+this.lPad+this.rPad):this.padCenter(e)}},{key:"print",value:function print(t){var e=t.getVar(this.variable,this.index);if("S"===this.fmt)return this.padLeft(e);var n=(0,{B:Z.Ly,D:Z.E_,X:Z.$v}[this.fmt])(e);return"D"===this.fmt?this.padRight(n):this.padCenter(n.slice(n.length-this.len))}},{key:"padCenter",value:function padCenter(t){var e=this.lPad+this.len+this.rPad,n=Math.floor((e-t.length)/2),i=e-n-t.length,r=n+t.length,s=r+i;return t=(t=t.padStart(r)).padEnd(s)}},{key:"padLeft",value:function padLeft(t){t=t.substring(0,this.len);var e=this.rPad+this.len,padLeft=this.lPad+e;return t=(t=t.padEnd(e)).padStart(padLeft)}},{key:"padRight",value:function padRight(t){t=t.substring(0,this.len);var e=this.lPad+this.len,padRight=this.rPad+e;return t=(t=t.padStart(e)).padEnd(padRight)}}]),Output}(),g=n(5838),w=n(134),x=function(){function Test(){(0,h.Z)(this,Test),(0,p.Z)(this,"instructions",[]),(0,p.Z)(this,"_outputList",[]),(0,p.Z)(this,"_log",""),(0,p.Z)(this,"fs",new v.Wd),(0,p.Z)(this,"_steps",void 0),(0,p.Z)(this,"_step",void 0),(0,p.Z)(this,"breakpoints",new Map)}return(0,d.Z)(Test,[{key:"setFileSystem",value:function setFileSystem(t){return this.fs=t,this}},{key:"echo",value:function echo(t){}},{key:"clearEcho",value:function clearEcho(){}},{key:"load",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function _callee(t){return(0,c.Z)().wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),_callee)})));return function load(e){return t.apply(this,arguments)}}()},{key:"compareTo",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function _callee2(t){return(0,c.Z)().wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),_callee2)})));return function compareTo(e){return t.apply(this,arguments)}}()},{key:"outputFile",value:function outputFile(t){}},{key:"outputList",value:function outputList(t){this._outputList=t}},{key:"addInstruction",value:function addInstruction(t){this.instructions.push(t)}},{key:"reset",value:function reset(){return this._steps=(0,c.Z)().mark((function _callee3(t){var e,n,i;return(0,c.Z)().wrap((function _callee3$(r){for(;;)switch(r.prev=r.next){case 0:e=(0,o.Z)(t.instructions),r.prev=1,e.s();case 3:if((n=e.n()).done){r.next=8;break}return i=n.value,r.delegateYield(i.steps(t),"t0",6);case 6:r.next=3;break;case 8:r.next=13;break;case 10:r.prev=10,r.t1=r.catch(1),e.e(r.t1);case 13:return r.prev=13,e.f(),r.finish(13);case 16:case"end":return r.stop()}}),_callee3,null,[[1,10,13,16]])}))(this),this._step=this._steps.next(),this._step,this._log="",this}},{key:"steps",get:function get(){return void 0===this._steps&&(this.reset(),this._steps=(0,f.kP)(this._steps,"Reset did not initialize steps"),this._step=(0,f.kP)(this._step,"Reset did not find first step")),this._steps}},{key:"currentStep",get:function get(){var t;return null===(t=this._step)||void 0===t?void 0:t.value}},{key:"done",get:function get(){var t,e;return null!==(t=null===(e=this._step)||void 0===e?void 0:e.done)&&void 0!==t&&t}},{key:"step",value:function step(){return!!this._step.done||(this._step.value.do(this),this._step=this.steps.next(),!1)}},{key:"run",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function _callee4(){return(0,c.Z)().wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:this.reset();case 1:return t.next=3,this.step();case 3:if(t.sent){t.next=7;break}t.next=1;break;case 7:case"end":return t.stop()}}),_callee4,this)})));return function run(){return t.apply(this,arguments)}}()},{key:"addBreakpoint",value:function addBreakpoint(t,e){this.breakpoints.set(t,e)}},{key:"clearBreakpoints",value:function clearBreakpoints(){this.breakpoints.clear()}},{key:"output",value:function output(){var t=this,e=this._outputList.map((function(e){return e.print(t)}));this._log+="|".concat(e.join("|"),"|\n")}},{key:"header",value:function header(){var t=this,e=this._outputList.map((function(e){return e.header(t)}));this._log+="|".concat(e.join("|"),"|\n")}},{key:"log",value:function log(){return this._log}}]),Test}();function isTstLineStatment(t){return void 0!==t.ops}function isTstWhileStatement(t){return void 0!==t.condition}function makeLineStatement(t){var e=new I;e.span=t.span;var n,i=(0,o.Z)(t.ops);try{for(i.s();!(n=i.n()).done;){var r=makeInstruction(n.value);void 0!==r&&e.addInstruction(r)}}catch(s){i.e(s)}finally{i.f()}return e}function makeInstruction(t){var e=t.op;switch(e){case"tick":return new B;case"tock":return new j;case"eval":return new L;case"output":return new C;case"set":return new S(t.id,t.value,t.index);case"output-list":return new M(t.spec);case"echo":return new D(t.message);case"clear-echo":return new R;case"loadRom":return new E(t.file);case"load":case"output-file":case"compare-to":return;default:(0,f.qV)(e,"Unknown tst operation ".concat(e))}}function fill(t,e){var n,i=(0,o.Z)(e.lines);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(isTstLineStatment(r))t.addInstruction(makeLineStatement(r));else{var s=isTstWhileStatement(r)?new P(new _(r.condition.left,r.condition.right,r.condition.op)):new O(r.count);s.span=r.span,t.addInstruction(s);var a,u=(0,o.Z)(r.statements);try{for(u.s();!(a=u.n()).done;){var c=a.value;s.addInstruction(makeLineStatement(c))}}catch(l){u.e(l)}finally{u.f()}}}}catch(l){i.e(l)}finally{i.f()}return t.reset(),t}var T=function(t){(0,a.Z)(ChipTest,t);var e=(0,u.Z)(ChipTest);function ChipTest(){var t;(0,h.Z)(this,ChipTest);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r)),(0,p.Z)((0,i.Z)(t),"chip",new m.P9),(0,p.Z)((0,i.Z)(t),"clock",k.S.get()),t}return(0,d.Z)(ChipTest,[{key:"chipId",get:function get(){return this.chip.id}},{key:"with",value:function _with(t){return this.chip=t,this}},{key:"hasVar",value:function hasVar(t){return"time"===t||(t="".concat(t),this.chip.hasIn(t)||this.chip.hasOut(t))}},{key:"getVar",value:function getVar(t,e){if("time"===(t="".concat(t)))return this.clock.toString();var n=this.chip.get(t,e);return n?n instanceof m.Gc?n.busVoltage:n.voltage():0}},{key:"setVar",value:function setVar(t,e,n){var i=this.chip.get(t,n);i instanceof m.Gc?i.busVoltage=e:null===i||void 0===i||i.pull(0===e?m.yE:m.lj)}},{key:"eval",value:function _eval(){this.chip.eval()}},{key:"tick",value:function tick(){this.chip.eval(),this.clock.tick()}},{key:"tock",value:function tock(){this.chip.eval(),this.clock.tock()}},{key:"load",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function _callee5(t){return(0,c.Z)().wrap((function _callee5$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chip.load(this.fs,t);case 2:case"end":return e.stop()}}),_callee5,this)})));return function load(e){return t.apply(this,arguments)}}()},{key:"run",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function _callee6(){return(0,c.Z)().wrap((function _callee6$(t){for(;;)switch(t.prev=t.next){case 0:return this.clock.reset(),t.next=3,(0,r.Z)((0,s.Z)(ChipTest.prototype),"run",this).call(this);case 3:case"end":return t.stop()}}),_callee6,this)})));return function run(){return t.apply(this,arguments)}}()}],[{key:"from",value:function from(t){return fill(new ChipTest,t)}}]),ChipTest}(x),A=function(t){(0,a.Z)(CPUTest,t);var e=(0,u.Z)(CPUTest);function CPUTest(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new g.eD(new Int16Array);return(0,h.Z)(this,CPUTest),t=e.call(this),(0,p.Z)((0,i.Z)(t),"cpu",void 0),(0,p.Z)((0,i.Z)(t),"ticks",0),t.cpu=new w.Z9({ROM:n}),t.reset(),t}return(0,d.Z)(CPUTest,[{key:"reset",value:function reset(){return this.cpu.reset(),this.ticks=0,this}},{key:"hasVar",value:function hasVar(t){return"number"!==typeof t&&!("A"!==t&&"D"!==t&&"PC"!==t&&"time"!==t&&!t.startsWith("RAM"))}},{key:"getVar",value:function getVar(t){switch(t){case"A":return this.cpu.A;case"D":return this.cpu.D;case"PC":return this.cpu.PC;case"time":return this.ticks}if("number"===typeof t)return 0;if(t.startsWith("RAM")){var e=Number(t.substring(4,t.length-1));return this.cpu.RAM.get(e)}return 0}},{key:"setVar",value:function setVar(t,e,n){switch(t){case"A":this.cpu.setA(e);break;case"D":this.cpu.setD(e);break;case"PC":this.cpu.setPC(e);break;case"RAM":this.cpu.RAM.set(null!==n&&void 0!==n?n:0,e)}}},{key:"ticktock",value:function ticktock(){this.ticks+=1,this.cpu.tick()}},{key:"load",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function _callee7(t){return(0,c.Z)().wrap((function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cpu.ROM.load(this.fs,t);case 2:case"end":return e.stop()}}),_callee7,this)})));return function load(e){return t.apply(this,arguments)}}()}],[{key:"from",value:function from(t){return fill(new CPUTest,t)}}]),CPUTest}(x),S=function(){function TestSetInstruction(t,e,n){(0,h.Z)(this,TestSetInstruction),(0,p.Z)(this,"variable",void 0),(0,p.Z)(this,"value",void 0),(0,p.Z)(this,"index",void 0),this.variable=t,this.value=e,this.index=n}return(0,d.Z)(TestSetInstruction,[{key:"do",value:function _do(t){t.setVar(this.variable,this.value,this.index)}},{key:"steps",value:(0,c.Z)().mark((function steps(){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestSetInstruction}(),C=function(){function TestOutputInstruction(){(0,h.Z)(this,TestOutputInstruction)}return(0,d.Z)(TestOutputInstruction,[{key:"do",value:function _do(t){t.output()}},{key:"steps",value:(0,c.Z)().mark((function steps(){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestOutputInstruction}(),M=function(){function TestOutputListInstruction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,h.Z)(this,TestOutputListInstruction),(0,p.Z)(this,"outputs",[]);var e,n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.addOutput(i)}}catch(r){n.e(r)}finally{n.f()}}return(0,d.Z)(TestOutputListInstruction,[{key:"addOutput",value:function addOutput(t){this.outputs.push(new b(t.id,t.style,t.width,t.lpad,t.rpad,t.builtin,t.address))}},{key:"do",value:function _do(t){t.outputList(this.outputs),t.header()}},{key:"steps",value:(0,c.Z)().mark((function steps(){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestOutputListInstruction}(),I=function(){function TestCompoundInstruction(){(0,h.Z)(this,TestCompoundInstruction),(0,p.Z)(this,"instructions",[]),(0,p.Z)(this,"span",void 0)}return(0,d.Z)(TestCompoundInstruction,[{key:"addInstruction",value:function addInstruction(t){this.instructions.push(t)}},{key:"do",value:function _do(t){var e,n=(0,o.Z)(this.instructions);try{for(n.s();!(e=n.n()).done;){e.value.do(t)}}catch(i){n.e(i)}finally{n.f()}}},{key:"steps",value:(0,c.Z)().mark((function steps(t){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestCompoundInstruction}(),O=function(t){(0,a.Z)(TestRepeatInstruction,t);var e=(0,u.Z)(TestRepeatInstruction);function TestRepeatInstruction(t){var n;return(0,h.Z)(this,TestRepeatInstruction),n=e.call(this),(0,p.Z)((0,i.Z)(n),"repeat",void 0),n.repeat=t,n}return(0,d.Z)(TestRepeatInstruction,[{key:"do",value:function _do(){}},{key:"innerSteps",value:(0,c.Z)().mark((function innerSteps(t){var e,n,i;return(0,c.Z)().wrap((function innerSteps$(r){for(;;)switch(r.prev=r.next){case 0:e=(0,o.Z)(this.instructions),r.prev=1,e.s();case 3:if((n=e.n()).done){r.next=8;break}return i=n.value,r.delegateYield(i.steps(t),"t0",6);case 6:r.next=3;break;case 8:r.next=13;break;case 10:r.prev=10,r.t1=r.catch(1),e.e(r.t1);case 13:return r.prev=13,e.f(),r.finish(13);case 16:case"end":return r.stop()}}),innerSteps,this,[[1,10,13,16]])}))},{key:"steps",value:(0,c.Z)().mark((function steps(t){var e;return(0,c.Z)().wrap((function steps$(n){for(;;)switch(n.prev=n.next){case 0:if(-1!==this.repeat){n.next=9;break}return n.next=3,this;case 3:return n.delegateYield(this.innerSteps(t),"t0",5);case 5:n.next=3;break;case 7:n.next=17;break;case 9:e=0;case 10:if(!(e<this.repeat)){n.next=17;break}return n.next=13,this;case 13:return n.delegateYield(this.innerSteps(t),"t1",14);case 14:e++,n.next=10;break;case 17:case"end":return n.stop()}}),steps,this)}))}]),TestRepeatInstruction}(I),_=function(){function Condition(t,e,n){(0,h.Z)(this,Condition),(0,p.Z)(this,"x",void 0),(0,p.Z)(this,"y",void 0),(0,p.Z)(this,"op",void 0),this.x=t,this.y=e,this.op=n}return(0,d.Z)(Condition,[{key:"check",value:function check(t){var e=t.hasVar(this.x)?t.getVar(this.x):this.x,n=t.hasVar(this.y)?t.getVar(this.y):this.y;if("string"===typeof e||"string"===typeof n)switch(this.op){case"=":return"".concat(e)==="".concat(n);case"<>":return"".concat(e)!=="".concat(n)}else switch(this.op){case"<":return e<n;case"<=":return e<=n;case">":return e>n;case">=":return e>=n;case"=":return e===n;case"<>":return e!==n}return!1}}]),Condition}(),P=function(t){(0,a.Z)(TestWhileInstruction,t);var e=(0,u.Z)(TestWhileInstruction);function TestWhileInstruction(t){var n;return(0,h.Z)(this,TestWhileInstruction),n=e.call(this),(0,p.Z)((0,i.Z)(n),"condition",void 0),n.condition=t,n}return(0,d.Z)(TestWhileInstruction,[{key:"steps",value:(0,c.Z)().mark((function steps(t){var e,n,i;return(0,c.Z)().wrap((function steps$(r){for(;;)switch(r.prev=r.next){case 0:if(!this.condition.check(t)){r.next=21;break}return r.next=3,this;case 3:e=(0,o.Z)(this.instructions),r.prev=4,e.s();case 6:if((n=e.n()).done){r.next=11;break}return i=n.value,r.delegateYield(i.steps(t),"t0",9);case 9:r.next=6;break;case 11:r.next=16;break;case 13:r.prev=13,r.t1=r.catch(4),e.e(r.t1);case 16:return r.prev=16,e.f(),r.finish(16);case 19:r.next=0;break;case 21:case"end":return r.stop()}}),steps,this,[[4,13,16,19]])}))}]),TestWhileInstruction}(I),D=function(){function TestEchoInstruction(t){(0,h.Z)(this,TestEchoInstruction),(0,p.Z)(this,"content",void 0),this.content=t}return(0,d.Z)(TestEchoInstruction,[{key:"do",value:function _do(t){t.echo(this.content)}},{key:"steps",value:(0,c.Z)().mark((function steps(){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestEchoInstruction}(),R=function(){function TestClearEchoInstruction(){(0,h.Z)(this,TestClearEchoInstruction)}return(0,d.Z)(TestClearEchoInstruction,[{key:"do",value:function _do(t){t.clearEcho()}},{key:"steps",value:(0,c.Z)().mark((function steps(){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestClearEchoInstruction}(),E=function(){function TestLoadROMInstruction(t){(0,h.Z)(this,TestLoadROMInstruction),(0,p.Z)(this,"file",void 0),this.file=t}return(0,d.Z)(TestLoadROMInstruction,[{key:"do",value:function(){var t=(0,l.Z)((0,c.Z)().mark((function _callee8(t){return(0,c.Z)().wrap((function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:return t.fs.pushd("/test"),e.next=3,t.load(this.file);case 3:t.fs.popd();case 4:case"end":return e.stop()}}),_callee8,this)})));return function _do(e){return t.apply(this,arguments)}}()},{key:"steps",value:(0,c.Z)().mark((function steps(){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestLoadROMInstruction}(),L=function(){function TestEvalInstruction(){(0,h.Z)(this,TestEvalInstruction),(0,p.Z)(this,"_chipTestInstruction_",!0)}return(0,d.Z)(TestEvalInstruction,[{key:"do",value:function _do(t){t.eval()}},{key:"steps",value:(0,c.Z)().mark((function steps(){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestEvalInstruction}(),B=function(){function TestTickInstruction(){(0,h.Z)(this,TestTickInstruction),(0,p.Z)(this,"_chipTestInstruction_",!0)}return(0,d.Z)(TestTickInstruction,[{key:"do",value:function _do(t){t.tick()}},{key:"steps",value:(0,c.Z)().mark((function steps(){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestTickInstruction}(),j=function(){function TestTockInstruction(){(0,h.Z)(this,TestTockInstruction),(0,p.Z)(this,"_chipTestInstruction_",!0)}return(0,d.Z)(TestTockInstruction,[{key:"do",value:function _do(t){t.tock()}},{key:"steps",value:(0,c.Z)().mark((function steps(){return(0,c.Z)().wrap((function steps$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this;case 2:case"end":return t.stop()}}),steps,this)}))}]),TestTockInstruction}()},7693:function(t,e,n){n.d(e,{a:function(){return asm},op:function(){return op},p:function(){return makeC}});var i=n(9422),r=n(6693);function asm(t){return 32768&t?function cInstruction(t){t&=65535;var e=(4096&t)>>12,n=(4032&t)>>6,i=(56&t)>>3,s=7&t;if(void 0===r.PH.op[n])return"#ERR";var a=r.PH.op[n];e&&(a=a.replace(/A/g,"M"));var u=r.Uc.op[i],o=r.lK.op[s],c=a;u&&(c="".concat(u,"=").concat(c));o&&(c="".concat(c,";").concat(o));return c}(t):function aInstruction(t){return"@"+(32767&t).toString(10)}(t)}function op(t){return"@"===t[0]?function aop(t){return parseInt(t.substring(1),10)}(t):function cop(t){var e,n=t.match((0,i.Z)(/(?:([AMD]{1,3})=)?([-!01ADM&|]{1,3})(?:;(JGT|JLT|JGE|JLE|JEQ|JMP))?/,{assign:1,operation:2,jump:3})),s=null!==(e=null===n||void 0===n?void 0:n.groups)&&void 0!==e?e:{},a=s.assign,u=s.operation,o=s.jump,c=u.includes("M")||a.includes("M"),l=r.Uc.asm[null!==a&&void 0!==a?a:""],h=r.lK.asm[null!==o&&void 0!==o?o:""],d=r.PH.asm[null!==u&&void 0!==u?u:""];return makeC(c,d,l,h)}(t)}function makeC(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=57344,s=t?4096:0,a=e<<6,u=(null!==n&&void 0!==n?n:0)<<3,o=null!==i&&void 0!==i?i:0;return r+s+a+u+o}},326:function(t,e,n){n.d(e,{$v:function(){return hex},Af:function(){return int16},C$:function(){return int2},C2:function(){return nand16},E_:function(){return dec},Ly:function(){return bin},nN:function(){return uns},o5:function(){return int10},t1:function(){return parseTwosInt}});var i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];function chars(t){var e;return null!==(e=i[t])&&void 0!==e?e:"X"}function bits(t){switch(t){case 0:return"0000";case 1:return"0001";case 2:return"0010";case 3:return"0011";case 4:return"0100";case 5:return"0101";case 6:return"0110";case 7:return"0111";case 8:return"1000";case 9:return"1001";case 10:return"1010";case 11:return"1011";case 12:return"1100";case 13:return"1101";case 14:return"1110";case 15:return"1111";default:return"erro"}}function int(t,e){return 65535&parseInt(t.replace(/[^\d a-f A-F +-.]/g,""),e)}function int16(t){return int(t,16)}function int10(t){return int(t,10)}function int2(t){return int(t.replaceAll(" ",""),2)}function parseTwosInt(t){return t.toUpperCase().includes("X")?int16(t):int10(t)}function hex(t){var e=chars((61440&t)>>12),n=chars((3840&t)>>8),i=chars((240&t)>>4),r=chars(15&t);return"0x".concat(e).concat(n).concat(i).concat(r)}function bin(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=bits((61440&t)>>12),i=bits((3840&t)>>8),r=bits((240&t)>>4),s=bits(15&t);return"".concat(n).concat(i).concat(r).concat(s).substring(16-e)}function dec(t){return 32768===(t&=65535)?"-32768":32768&t?"-".concat(t=1+~t&32767):"".concat(t)}function uns(t){return"".concat(t&=65535)}function nand16(t,e){var n=~((t&=65535)&(e&=65535));return n&=65535}}}]);
//# sourceMappingURL=387.6218f7b8.chunk.js.map