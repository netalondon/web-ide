"use strict";(globalThis.webpackChunk_nand2tetris_web=globalThis.webpackChunk_nand2tetris_web||[]).push([[408],{2408:(e,t,r)=>{r.r(t),r.d(t,{FormattedInput:()=>A,Util:()=>f,default:()=>h});var n=r(7496),s=r(7844),a=r(8878),u=r(782);function i(e){return/^[01]+$/.test(e)&&e.length<=16}function c(e){return/^-?\d+$/.test(e)&&Number(e)<=32767&&Number(e)>=-32768}function o(e){return/^\d+$/.test(e)&&Number(e)<=65535}function l(e){return/^0x[0-9a-fA-F]+$/.test(e)&&e.length<=6}function d(e){try{return(0,n.op)(e),!0}catch{return!1}}const A=e=>{const[t,r]=(0,a.useState)(!1),[n,s]=(0,a.useState)("");return(0,u.jsx)("input",{id:"util_setBin",type:"text",value:t?n:void 0!==e.value?e.format(e.value):"",onChange:({target:{value:r}})=>{if(t)if(s(r),e.isValid(r)){e.setError(void 0);const t=e.parse(r);e.setValue(t)}else e.setError("Invalid value"),e.setValue(void 0)},onFocus:()=>{r(!0),s(void 0!==e.value?e.format(e.value):"")},onBlur:()=>r(!1)})},f=()=>{const[e,t]=(0,a.useState)(),[r,f]=(0,a.useState)();return(0,u.jsxs)("article",{children:[(0,u.jsx)("header",{children:(0,u.jsx)("h2",{children:"Convert Hack Number Types"})}),(0,u.jsxs)("main",{children:[(0,u.jsxs)("dl",{children:[(0,u.jsx)("dt",{children:(0,u.jsx)("label",{htmlFor:"util_setBin",children:"Binary"})}),(0,u.jsx)("dd",{children:(0,u.jsx)(A,{id:"util_setBin",value:e,setValue:t,setError:f,parse:s.Yp,format:s.e5,isValid:i})}),(0,u.jsx)("dt",{children:(0,u.jsx)("label",{htmlFor:"util_setInt",children:"Decimal"})}),(0,u.jsx)("dd",{children:(0,u.jsx)(A,{id:"util_setInt",value:e,setValue:t,setError:f,parse:s.ZR,format:s.FN,isValid:c})}),(0,u.jsx)("dt",{children:(0,u.jsx)("label",{htmlFor:"util_setUnsigned",children:"Unsigned"})}),(0,u.jsx)("dd",{children:(0,u.jsx)(A,{id:"util_setUnsigned",value:e,setValue:t,setError:f,parse:s.ZR,format:s.ad,isValid:o})}),(0,u.jsx)("dt",{children:(0,u.jsx)("label",{htmlFor:"util_setHex",children:"Hex"})}),(0,u.jsx)("dd",{children:(0,u.jsx)(A,{id:"util_setHex",value:e,setValue:t,setError:f,parse:s.l8,format:s.uh,isValid:l})}),(0,u.jsx)("dt",{children:(0,u.jsx)("label",{htmlFor:"util_setAsm",children:"HACK ASM"})}),(0,u.jsx)("dd",{children:(0,u.jsx)(A,{id:"util_setAsm",value:e,setValue:t,setError:f,parse:n.op,format:n.k,isValid:d})})]}),r&&(0,u.jsx)("p",{children:r})]})]})},h=f},8739:(e,t,r)=>{r.d(t,{Lo:()=>u,Nt:()=>c,Qv:()=>d,_0:()=>a,ft:()=>A,iI:()=>f,nf:()=>s,qn:()=>x,uW:()=>o,v0:()=>h});const n=new Set(["0","1","-1","D","A","!D","!A","-D","-A","D+1","A+1","D-1","A-1","D+A","D-A","A-D","D&A","D|A"]);function s(e){return n.has(e)||n.has(e.replace("M","A"))}const a={op:{42:"0",63:"1",58:"-1",12:"x",48:"y",13:"!x",49:"!y",15:"-x",51:"-y",31:"x+1",55:"y+1",14:"x-1",50:"y-1",2:"x+y",19:"x-y",7:"y-x",0:"x&y",21:"x|y"}},u={asm:{0:42,1:63,"-1":58,D:12,A:48,"!D":13,"!A":49,"-D":15,"-A":51,"D+1":31,"A+1":55,"D-1":14,"A-1":50,"D+A":2,"D-A":19,"A-D":7,"D&A":0,"D|A":21},op:{42:"0",63:"1",58:"-1",12:"D",48:"A",13:"!D",49:"!A",15:"-D",51:"-A",31:"D+1",55:"A+1",14:"D-1",50:"A-1",2:"D+A",19:"D-A",7:"A-D",0:"D&A",21:"D|A"},getOp:e=>u.asm[e.replace("M","A")]},i=new Set(["","M","D","MD","A","AM","AD","AMD"]);function c(e){return i.has(e)}const o={asm:{"":0,M:1,D:2,MD:3,A:4,AM:5,AD:6,AMD:7},op:{0:"",1:"M",2:"D",3:"MD",4:"A",5:"AM",6:"AD",7:"AMD"}},l=new Set(["","JGT","JEQ","JGE","JLT","JNE","JLE","JMP"]);function d(e){return l.has(e)}const A={asm:{"":0,JGT:1,JEQ:2,JGE:3,JLT:4,JNE:5,JLE:6,JMP:7},op:{0:"",1:"JGT",2:"JEQ",3:"JGE",4:"JLT",5:"JNE",6:"JLE",7:"JMP"}},f={1:"Positive",0:"Zero",15:"Negative",Positive:1,Zero:0,Negative:15};function h(e,t,r){let n=0;switch(e){case 42:n=0;break;case 63:n=1;break;case 58:n=-1;break;case 12:n=t;break;case 48:n=r;break;case 13:n=~t;break;case 49:n=~r;break;case 15:n=-t;break;case 51:n=-r;break;case 31:n=t+1;break;case 55:n=r+1;break;case 14:n=t-1;break;case 50:n=r-1;break;case 2:n=t+r;break;case 19:n=t-r;break;case 7:n=r-t;break;case 0:n=t&r;break;case 21:n=t|r}n&=65535;return[n,0===n?f.Zero:32768&n?f.Negative:f.Positive]}function x(e,t,r){32&e&&(t=0),16&e&&(t=65535&~t),8&e&&(r=0),4&e&&(r=65535&~r);let n=65535&(2&e?t+r:t&r);1&e&&(n=65535&~n);return[n,0===n?f.Zero:32768&n?f.Negative:f.Positive]}},7496:(e,t,r)=>{r.d(t,{k:()=>s,m:()=>u,op:()=>a});var n=r(8739);function s(e){return 32768&e?function(e){e&=65535;const t=(4096&e)>>12,r=(4032&e)>>6,s=(56&e)>>3,a=7&e;if(void 0===n.Lo.op[r])return"#ERR";let u=n.Lo.op[r];t&&(u=u.replace(/A/g,"M"));const i=n.uW.op[s],c=n.ft.op[a];let o=u;i&&(o=`${i}=${o}`);c&&(o=`${o};${c}`);return o}(e):function(e){return"@"+(32767&e).toString(10)}(e)}function a(e){return"@"===e[0]?function(e){return parseInt(e.substring(1),10)}(e):function(e){const t=e.match(/(?:(?<assignExists>.+)=)?(.+)(?:;(?<jumpExists>.+))?/),{assignExists:r,jumpExists:s}=t?.groups??{},a=e.match(/(?:(?<assign>[AMD]{1,3})=)?(?<operation>[-+!01ADM&|]{1,3})(?:;(?<jump>JGT|JLT|JGE|JLE|JEQ|JMP))?/);let{assign:i,jump:c}=a?.groups??{};const{operation:o}=a?.groups??{};if(i=i??(r?void 0:""),c=c??(s?void 0:""),a?.[0]!=e||!(0,n.Nt)(i)||!(0,n.Qv)(c)||!(0,n.nf)(o))throw new Error("Invalid c instruction");const l=o.includes("M"),d=n.uW.asm[i],A=n.ft.asm[c],f=n.Lo.getOp(o);return u(l,f,d,A)}(e)}function u(e,t,r,n){return 57344+(e?4096:0)+(t<<6)+(r<<3)+n}},7844:(e,t,r)=>{r.d(t,{FN:()=>f,Yp:()=>o,ZR:()=>c,_Q:()=>l,ad:()=>h,e5:()=>A,l8:()=>i,uh:()=>d,xu:()=>x});const n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];function s(e){return n[e]??"X"}function a(e){switch(e){case 0:return"0000";case 1:return"0001";case 2:return"0010";case 3:return"0011";case 4:return"0100";case 5:return"0101";case 6:return"0110";case 7:return"0111";case 8:return"1000";case 9:return"1001";case 10:return"1010";case 11:return"1011";case 12:return"1100";case 13:return"1101";case 14:return"1110";case 15:return"1111";default:return"erro"}}function u(e,t){return 65535&parseInt(e.replace(/[^\d a-f A-F +-.]/g,""),t)}function i(e){return u(e,16)}function c(e){return u(e,10)}function o(e){return u(e.replaceAll(" ",""),2)}function l(e){return e.toUpperCase().includes("X")?i(e):c(e)}function d(e){return`0x${s((61440&e)>>12)}${s((3840&e)>>8)}${s((240&e)>>4)}${s(15&e)}`}function A(e,t=16){return`${a((61440&e)>>12)}${a((3840&e)>>8)}${a((240&e)>>4)}${a(15&e)}`.substring(16-t)}function f(e){return 32768===(e&=65535)?"-32768":32768&e?`-${e=1+~e&32767}`:`${e}`}function h(e){return`${e&=65535}`}function x(e,t){let r=~((e&=65535)&(t&=65535));return r&=65535,r}}}]);