"use strict";(self.webpackChunk_nand2tetris_web=self.webpackChunk_nand2tetris_web||[]).push([[432],{1539:function(e,n,t){t.d(n,{M:function(){return m}});var r=t(9422),a=t(1026),o=t(8061),i=t(9659),u=t(7536),s=t(6167),l=t(8016),c=t(1510),d=t(7878),f=function ErrorPanel(e){var n,t,r=e.error;return null!==r&&void 0!==r&&r.failed()?(0,d.jsxs)("details",{className:"ErrorPanel",open:!0,children:[(0,d.jsx)("summary",{role:"button",className:"secondary",children:(0,d.jsx)(o.cC,{id:"Parse Error"})}),(0,d.jsx)("pre",{children:(0,d.jsx)("code",{children:null!==(n=null!==(t=null===r||void 0===r?void 0:r.message)&&void 0!==t?t:null===r||void 0===r?void 0:r.shortMessage)&&void 0!==n?n:c.eP})})]}):(0,d.jsx)(d.Fragment,{})},v=function Textarea(e){var n=e.value,t=e.onChange,r=e.language,o=e.disabled,i=void 0!==o&&o,u=(0,s.useState)(n),l=(0,a.Z)(u,2),c=l[0],f=l[1];return(0,d.jsx)("textarea",{"data-testid":"editor-".concat(r),disabled:i,value:c,onChange:function onChange(e){var n,r=null===(n=e.target)||void 0===n?void 0:n.value;f(r),t(r)}})},h=function Monaco(e){var n=e.value,t=e.onChange,a=e.language,o=e.error,i=e.disabled,c=void 0!==i&&i,f=e.highlight,v=(0,s.useContext)(l.Il).theme,h=(0,u.Ik)(),m=(0,s.useRef)(),g=(0,s.useRef)([]),p=(0,s.useRef)(void 0),x=(0,s.useCallback)((function(){return("system"===v?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===v)?"vs-dark":"vs"}),[v]),b=(0,s.useCallback)((function(){var e;g.current=function makeHighlight(e,n,t,r){if(!n||!t)return r;var a=n.getModel();if(!a)return r;var o=a.getPositionAt(t.start),i=a.getPositionAt(t.end),u=null===e||void 0===e?void 0:e.Range.fromPositions(o,i),s=[];return u&&(s.push({range:u,options:{inlineClassName:"highlight"}}),n.revealRangeInCenter(u)),n.deltaDecorations(r,s)}(h,m.current,null!==(e=p.current)&&void 0!==e?e:{start:0,end:0},g.current)}),[g,h,m,p]);(0,s.useEffect)((function(){p.current=f,b()}),[f]);var y=(0,s.useCallback)((function(e){var n;m.current=e,null===(n=m.current)||void 0===n||n.updateOptions({fontFamily:'"JetBrains Mono", source-code-pro, Menlo, Monaco,\n      Consolas, "Roboto Mono", "Ubuntu Monospace", "Noto Mono", "Oxygen Mono",\n      "Liberation Mono", monospace, "Apple Color Emoji", "Segoe UI Emoji",\n      "Segoe UI Symbol", "Noto Color Emoji"',fontSize:16,minimap:{enabled:!1},theme:x(),scrollBeyondLastLine:!1,readOnly:c}),b()}),[x]);return(0,s.useEffect)((function(){void 0!==m.current&&m.current.updateOptions({theme:x()})}),[m,x]),(0,s.useEffect)((function(){void 0!==m.current&&m.current.updateOptions({readOnly:c})}),[m,c]),(0,s.useEffect)((function(){var e,n,t,i,u;if(void 0!==m.current&&null!==h){var s=m.current.getModel();if(null!==s)if(void 0===o||o.succeeded())h.editor.setModelMarkers(s,a,[]);else{var l=null!==(e=null===(n=(0,r.Z)(/Line (\d+), col (\d+): (.*)/,{line:1,column:2,message:3}).exec(null!==(t=o.shortMessage)&&void 0!==t?t:""))||void 0===n?void 0:n.groups)&&void 0!==e?e:{line:1,column:1,message:"could not parse error"},c=l.line,d=l.column,f=l.message,v=Number(c),g=v,p=Number(d),x=p+(null!==(i=null===(u=s.getLineContent(v).substring(p-1).match(/([^\s]+)/))||void 0===u?void 0:u[0].length)&&void 0!==i?i:1);x<=p&&(x=p+1),h.editor.setModelMarkers(s,a,[{message:f,startColumn:p,startLineNumber:v,endColumn:x,endLineNumber:g,severity:8}])}}}),[o,m,h,a]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(u.ZP,{value:n,onChange:function onChange(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t(e)},language:a,onMount:y})})},m=function Editor(e){var n=e.className,t=void 0===n?"":n,r=e.style,o=void 0===r?{}:r,u=e.disabled,c=void 0!==u&&u,m=e.value,g=e.onChange,p=e.grammar,x=e.language,b=e.highlight,y=(0,s.useState)(),k=(0,a.Z)(y,2),C=k[0],j=k[1],w=(0,s.useContext)(l.Il).monaco,Z=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=p.match(e);j(n.failed()?n:void 0)}),[j,p]);(0,s.useEffect)((function(){return Z(m)}),[Z,m]);var S=(0,s.useMemo)((function(){return(0,i.D)(Z,500)}),[Z]),M=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";g(e),S(e)}),[S,g]);return(0,d.jsx)("div",{className:"Editor ".concat(t),style:o,children:w.canUse&&w.wants?(0,d.jsx)(h,{value:m,onChange:M,language:x,error:C,disabled:c,highlight:b}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v,{value:m,onChange:M,language:x,disabled:c}),(0,d.jsx)(f,{error:C})]})})}},1124:function(e,n,t){t.d(n,{G:function(){return o},s:function(){return a}});var r=t(7878),a=function Panel(e){var n;return(0,r.jsxs)("article",{className:["panel",null!==(n=e.className)&&void 0!==n?n:""].join(" "),children:[e.header&&(0,r.jsx)("header",{children:e.header}),(0,r.jsx)("main",{children:e.children}),e.footer&&(0,r.jsx)("footer",{children:e.footer})]})},o=function Accordian(e){var n;return(0,r.jsxs)("details",{className:null!==(n=e.className)&&void 0!==n?n:"",open:e.open,style:e.style,children:[(0,r.jsx)("summary",{children:(0,r.jsx)("div",{className:"flex row align-baseline",children:e.summary})}),e.children]})}},2277:function(e,n,t){t.d(n,{N:function(){return s}});var r=t(1026),a=t(7878),o=t(6167),i=t(6830),u={Enter:128,Backspace:129,ArrowLeft:130,ArrowUp:131,ArrowRight:132,ArrowDown:133,Home:134,End:135,PageUp:136,PageDown:137,Insert:138,Delete:139,Escape:140,F1:141,F2:142,F3:143,F4:144,F5:145,F6:146,F7:147,F8:148,F9:149,F10:150,F11:151,F12:152};var s=function Keyboard(e){var n=e.keyboard,t=e.update,s=(0,o.useState)(!1),l=(0,r.Z)(s,2),c=l[0],d=l[1],f=(0,o.useState)(""),v=(0,r.Z)(f,2),h=v[0],m=v[1],g=(0,o.useState)(n.getKey()),p=(0,r.Z)(g,2),x=p[0],b=p[1],y=0,k=function onKeyDown(e){if(c){m(e.key);var n=function keyPressToHackCharacter(e){var n=u[e.key];if(void 0!==n)return n;if(1===e.key.length){var t=e.key.charCodeAt(0);if(t>=32&&t<=126)return t}return 0}(e);n!==y&&(j(n),null===t||void 0===t||t())}},C=function onKeyUp(e){c&&(y=0,n.clearKey(),null===t||void 0===t||t(),b(n.getKey()),m(""))},j=function setKey(e){0!==e&&(n.setKey(e),b(n.getKey()),y=e)};return(0,o.useEffect)((function(){return window.addEventListener("keydown",k),window.addEventListener("keyup",C),function(){window.removeEventListener("keydown",k),window.removeEventListener("keyup",C)}})),(0,a.jsxs)("div",{className:"flex row align-baseline",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(i.y,{name:"Keyboard",bits:x})}),(0,a.jsx)("div",{className:"flex-1",children:"Character: ".concat(h)}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("button",{onClick:function toggleEnabled(){d(!c)},children:[c?"Disable   ":"Enable   ","\u2328\ufe0f"]})})]})}},3052:function(e,n,t){t.d(n,{zp:function(){return Z},ZP:function(){return S}});var r=t(1092),a=t(7791),o=t(189),i=t(1026),u=t(7878),s=t(8039),l=t(6167),c=t(5838),d=t(2724),f=t(7693),v=t(326),h=t(7030),m=t(8285),g=t(7559),p=0,x=1,b=function InlineEdit(e){var n,t=(0,l.useState)(null!==(n=e.mode)&&void 0!==n?n:p),r=(0,i.Z)(t,2),a=r[0],s=r[1],c=(0,g.i)(e.value),d=(0,i.Z)(c,2),f=d[0],v=d[1],h=function view(){return(0,u.jsx)("span",{style:(0,o.Z)({cursor:"text"},(0,m.b)("full","inline")),onClick:function onClick(){s(x)},children:f})},b=(0,l.useCallback)((function(e){return null===e||void 0===e?void 0:e.select()}),[]),y=(0,l.useCallback)((function(n){var t,r;s(p),v(null!==(t=n.value)&&void 0!==t?t:""),e.onChange(null!==(r=n.value)&&void 0!==r?r:"")}),[e,s,v]),k=function edit(){var edit=(0,u.jsx)("span",{style:{display:"block",position:"relative"},children:(0,u.jsx)("input",{ref:b,style:{zIndex:"10",position:"absolute",left:"0",marginTop:"-0.375rem"},onFocus:e.onFocus,onBlur:function onBlur(e){var n=e.target;return y(n)},onKeyPress:function onKeyPress(e){var n=e.key,t=e.target;"Enter"===n&&y(t)},type:"text",defaultValue:f})});return edit};return function render(){switch(a){case x:return k();case p:return h();default:return(0,u.jsx)("span",{})}}()},y=t(8698),k=t(649);function doScroll(e,n,t){var r=n.totalHeight,a=n.toleranceHeight,o=n.bufferedItems,i=n.settings,u=i.itemHeight,s=i.minIndex,l=i.maxIndex,c=s+Math.floor((e-a)/u),d=function getData(e,n,t,r,a){var o=Math.max(0,e,t),i=a(o,Math.min(n,t+r-1)-o);return(0,k.Z)(i)}(s,l,c,o,t),f=Math.max((c-s)*u,0);return{scrollTop:e,topPaddingHeight:f,bottomPaddingHeight:Math.max(r-(f+d.length*u),0),data:d}}var C=function VirtualScroll(e){var n,t=(0,l.useRef)(null),r=(0,l.useMemo)((function(){var n,t=function fillVirtualScrollSettings(e){var n=e.minIndex,t=void 0===n?0:n,r=e.maxIndex,a=void 0===r?Number.MAX_SAFE_INTEGER:r,o=e.startIndex,i=void 0===o?0:o,u=e.itemHeight,s=void 0===u?20:u,l=e.count,c=void 0===l?Math.max(a-t,1):l,d=e.tolerance;return{minIndex:t,maxIndex:a,startIndex:i,itemHeight:s,count:c,tolerance:void 0===d?c:d}}(null!==(n=e.settings)&&void 0!==n?n:{}),r=function initialState(e,n){var t=e.minIndex,r=e.maxIndex,a=e.startIndex,i=e.itemHeight,u=e.count,s=e.tolerance,l=u+2*s,c=Math.max(0,a-s-t),d=u*i,f=Math.max(r-t,1)*i,v=s*i,h=c*i,m={scrollTop:0,settings:e,viewportHeight:d,totalHeight:f,toleranceHeight:v,bufferedItems:l,topPaddingHeight:h,bottomPaddingHeight:f-(h+(d+2*v)),data:[]};return(0,o.Z)((0,o.Z)({},m),doScroll(h+v,m,n))}(t,e.get),a=function scrollReducer(e){return function(n,t){return(0,o.Z)((0,o.Z)({},n),doScroll(t,n,e))}}(e.get);return{settings:t,reducer:a,startState:r}}),[e.settings,e.get]),a=r.settings,s=r.startState,c=r.reducer,d=(0,l.useReducer)(c,s),f=(0,i.Z)(d,2),v=f[0],h=f[1];(0,l.useEffect)((function(){null!==t.current&&h(t.current.scrollTop)}),[a,e.row]);var m=(0,l.useCallback)((function(e){e&&(e.scrollTop=t.current?t.current.scrollTop:a.startIndex*a.itemHeight),t.current=e}),[t,a.startIndex,a.itemHeight]),g=v.data.map((function(n){return(0,u.jsx)("div",{style:{height:"".concat(a.itemHeight,"px")},children:e.row(n)},e.rowKey(n))}));return(0,u.jsxs)("div",{ref:m,style:{height:"".concat(v.viewportHeight,"px"),overflowY:"scroll",overflowAnchor:"none"},className:null!==(n=e.className)&&void 0!==n?n:"",onScroll:function onScroll(e){return h(e.target.scrollTop)},children:[(0,u.jsx)("div",{style:{height:"".concat(v.topPaddingHeight,"px")}}),g,(0,u.jsx)("div",{style:{height:"".concat(v.bottomPaddingHeight,"px")}})]})},j=function MemoryBlock(e){var n=e.memory,t=e.jmp,r=void 0===t?{value:0}:t,a=e.highlight,o=void 0===a?-1:a,s=e.editable,c=void 0!==s&&s,d=e.justifyLeft,f=void 0!==d&&d,h=e.format,m=void 0===h?v.E_:h,g=e.onChange,p=void 0===g?function(){}:g,x=e.onFocus,b=void 0===x?function(){}:x,y=(0,l.useMemo)((function(){return{count:Math.min(n.size,25),maxIndex:n.size,itemHeight:34,startIndex:r.value}}),[n.size,r]),k=(0,l.useCallback)((function(e,t){return n.range(e,e+t).map((function(n,t){return[t+e,n]}))}),[n]),j=(0,l.useCallback)((function(e){var t=(0,i.Z)(e,2),r=t[0],a=t[1];return(0,u.jsx)(w,{index:r,value:m(a),size:n.size,editable:c,justifyLeft:f,highlight:r===o,onChange:p,onFocus:b})}),[m,c,o,p]);return(0,u.jsx)(C,{settings:y,get:k,row:j,rowKey:function rowKey(e){return(0,i.Z)(e,1)[0]}})},w=function MemoryCell(e){var n=e.index,t=e.value,r=e.size,a=e.highlight,i=void 0!==a&&a,l=e.editable,c=void 0!==l&&l,d=e.justifyLeft,f=void 0!==d&&d,h=e.onChange,m=void 0===h?function(){}:h,g=e.onFocus,p=void 0===g?function(){}:g;return(0,u.jsxs)("div",{style:{display:"flex",height:"100%"},children:[(0,u.jsx)("code",{style:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,s.eP)("none")),i?{background:"var(--mark-background-color)"}:{}),{},{whiteSpace:"pre"}),children:r?(0,v.E_)(n).padStart(Math.ceil(Math.log10(r))," "):(0,v.E_)(n)}),(0,u.jsx)("code",{style:(0,o.Z)((0,o.Z)({flex:"1",textAlign:f?"left":"right"},(0,s.eP)("none")),i?{background:"var(--mark-background-color)"}:{}),children:c?(0,u.jsx)(b,{value:t,highlight:i,onChange:function onChange(e){return m(n,e,Number(t))},onFocus:function onFocus(){return p(n)}}):(0,u.jsx)("span",{children:t})})]})},Z=function Memory(e){var n=e.name,t=void 0===n?"Memory":n,o=e.highlight,s=void 0===o?-1:o,m=e.editable,p=void 0===m||m,x=e.memory,b=void 0===x?void 0:x,k=e.format,C=void 0===k?"dec":k,w=e.onUpload,Z=void 0===w?void 0:w,S=(0,l.useState)(C),M=(0,i.Z)(S,2),N=M[0],E=M[1],F=(0,l.useState)(""),I=(0,i.Z)(F,2),R=I[0],H=I[1],P=(0,l.useState)({value:0}),_=(0,i.Z)(P,2),L=_[0],T=_[1],K=(0,g.i)(s),A=(0,i.Z)(K,2),D=A[0],z=A[1],B=(0,l.useState)(0),W=(0,i.Z)(B,2),U=W[0],O=W[1],$=function jumpTo(){var e=!isNaN(parseInt(R))&&isFinite(parseInt(R))?Number(R):0;z(e),T({value:e})},V=(0,l.useRef)(null),G=(0,l.useCallback)((function(){var e;null===(e=V.current)||void 0===e||e.click()}),[V]),Y=(0,l.useContext)(y.r).setStatus,q=(0,l.useCallback)(function(){var e=(0,a.Z)((0,r.Z)().mark((function _callee(e){var n,t,a,o,i;return(0,r.Z)().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(null!==(n=e.target.files)&&void 0!==n&&n.length){r.next=3;break}return Y("No file selected"),r.abrupt("return");case 3:return t=e.target.files[0],null===Z||void 0===Z||Z(t.name),r.next=7,t.text();case 7:return a=r.sent,o=t.name.endsWith("hack")?d.loadHack:t.name.endsWith("asm")?d.loadAsm:d.loadBlob,r.next=11,o(a);case 11:i=r.sent,null===b||void 0===b||b.loadBytes(i),e.target.value="",$();case 15:case"end":return r.stop()}}),_callee)})));return function(n){return e.apply(this,arguments)}}(),[]),J=function rerenderMemoryBlock(){O(U+1)};return(0,h._W)((function(){H(""),T({value:0})})),(0,u.jsxs)("article",{className:"panel memory ".concat(t),children:[(0,u.jsxs)("header",{children:[(0,u.jsx)("div",{children:t}),(0,u.jsxs)("fieldset",{role:"group",children:[(0,u.jsx)("input",{type:"file",style:{display:"none"},ref:V,onChange:q}),(0,u.jsx)("button",{onClick:G,className:"flex-0","data-tooltip":"Load file","data-placement":"bottom",children:"\ud83d\udcc2"}),(0,u.jsx)("button",{onClick:function clear(){null===b||void 0===b||b.reset(),J()},className:"flex-0","data-tooltip":"Clear","data-placement":"bottom",children:"\ud83c\udd91"}),(0,u.jsx)("input",{style:{width:"4em",height:"100%"},placeholder:"Addr",value:R,onKeyDown:function onKeyDown(e){return"Enter"===e.key&&$()},onChange:function onChange(e){var n=e.target.value;return H(n)}}),(0,u.jsx)("button",{onClick:$,className:"flex-0","data-tooltip":"Scroll to address","data-placement":"bottom",children:"\u2935\ufe0f"}),(0,u.jsx)("select",{value:N,onChange:function onChange(e){return E(e.target.value)},children:c.I2.map((function(e){return(0,u.jsx)("option",{children:e},e)}))})]})]}),b?(0,u.jsx)(j,{jmp:L,memory:b,highlight:D,editable:p,justifyLeft:"asm"==N,format:function format(e){return function doFormat(e,n){switch(e){case"bin":return(0,v.Ly)(n);case"hex":return(0,v.$v)(n);case"asm":return(0,f.a)(n);default:return(0,v.E_)(n)}}(N,e)},onChange:function doUpdate(e,n){null===b||void 0===b||b.update(e,n,null!==N&&void 0!==N?N:"dec"),J()},onFocus:function onFocus(e){return z(e)}},U):"Memory display is disabled"]})},S=Z},6830:function(e,n,t){t.d(n,{y:function(){return o}});var r=t(7878),a=t(326),o=function RegisterComponent(e){var n=e.name,t=e.bits;return(0,r.jsxs)("div",{children:[n,": ",(0,a.E_)(t)]})}},9613:function(e,n,t){t.d(n,{l:function(){return s}});var r=t(7878),a=t(5541),o=t(6167),i=t(7030),u="white";function set(e,n,t,r){var a=4*(512*t+n),o=r===u?255:0;e[a]=o,e[a+1]=o,e[a+2]=o,e[a+3]=255}var s=function Screen(e){var n=e.memory,t=(0,o.useRef)(),s=(0,o.useCallback)((function(){var e,r,o=null!==(e=null===(r=t.current)||void 0===r?void 0:r.getContext("2d"))&&void 0!==e?e:void 0;o&&function drawImage(e,n){for(var t,r,o=(0,a.kP)(e.getImageData(0,0,512,256),"Failed to create Context2d"),i=0;i<512;i++)for(var s=0;s<256;s++){var l=(t=i,r=s,0===(n.get(32*r+(t/16|0))&1<<t%16)?u:"black");set(o.data,i,s,l)}e.putImageData(o,0,0)}(o,n)}),[n]),l=(0,o.useCallback)((function(e){t.current=null!==e&&void 0!==e?e:void 0,s()}),[t,s]);return(0,i.RC)(s),(0,i._W)((function(){var e,n;null===(e=t.current)||void 0===e||null===(n=e.getContext("2d"))||void 0===n||n.clearRect(0,0,t.current.width,t.current.height)})),(0,r.jsxs)("article",{className:"panel",children:[(0,r.jsx)("header",{children:"Screen"}),(0,r.jsx)("main",{style:{backgroundColor:"var(--code-background-color)"},children:(0,r.jsx)("figure",{style:{width:"100%",maxWidth:"512px",boxSizing:"content-box",marginInline:"auto",margin:"auto",borderTop:"2px solid gray",borderLeft:"2px solid gray",borderBottom:"2px solid lightgray",borderRight:"2px solid lightgray"},children:(0,r.jsx)("canvas",{ref:l,width:512,height:256})})})]})}},7030:function(e,n,t){t.d(n,{RC:function(){return useClockFrame},_W:function(){return useClockReset},uY:function(){return s}});var r=t(1026),a=t(7878),o=t(6167),i=t(4408),u=t(6531);function useClockFrame(e){(0,o.useEffect)((function(){var n=u.S.get().frame$.subscribe((function(){e()}));return function(){return n.unsubscribe()}}),[e])}function useClockReset(e){(0,o.useEffect)((function(){var n=u.S.get().reset$.subscribe((function(){e()}));return function(){return n.unsubscribe()}}),[e])}function displayClock(){return(0,i.j)(u.S.get())}var s=function Clockface(){var e=function useClockface(){var e=(0,o.useState)(displayClock()),n=(0,r.Z)(e,2),t=n[0],a=n[1];return(0,o.useEffect)((function(){var e=u.S.get().$.subscribe((function(){a(displayClock())}));return function(){return e.unsubscribe()}}),[]),t}();return(0,a.jsx)("span",{style:{whiteSpace:"nowrap"},children:e})}},7559:function(e,n,t){t.d(n,{C:function(){return useImmerReducer},i:function(){return useStateInitializer}});var r=t(1026),a=t(1408),o=t(6167);function useImmerReducer(e,n){return(0,o.useReducer)((function(n,t){return(0,a.ZP)(n,(function(n){e[t.action](n,t.payload)}))}),n)}function useStateInitializer(e){var n=(0,o.useState)(e),t=(0,r.Z)(n,2),a=t[0],i=t[1];return(0,o.useEffect)((function(){i(e)}),[e]),[a,i]}},258:function(e,n,t){t.d(n,{D:function(){return s}});var r=t(649),a=t(1026),o=t(7878),i=t(7559),u=t(6167);var s=function Runbar(e){var n=function useTimer(e){var n=(0,u.useRef)((function(){})),t=(0,u.useMemo)((function(){return function makeTimerStore(e,n){var t={running:e.running,speed:e.speed,steps:e.steps},r=e.finishFrame.bind(e);return e.finishFrame=function(){r(),n.current({action:"update"})},{initialState:t,reducers:{update:function update(n){n.running=e.running,n.speed=e.speed,n.steps=e.steps},setSteps:function setSteps(n,t){n.steps=t,e.steps=t},setSpeed:function setSpeed(n,t){n.speed=t,e.speed=t}},actions:{frame:function frame(){e.frame()},start:function start(){e.start(),n.current({action:"update"})},stop:function stop(){e.stop(),n.current({action:"update"})},reset:function reset(){e.reset(),n.current({action:"update"})}}}}(e,n)}),[e,n]),r=t.initialState,o=t.reducers,s=t.actions,l=(0,i.C)(o,r),c=(0,a.Z)(l,2),d=c[0],f=c[1];return n.current=f,{state:d,dispatch:n.current,actions:s}}(e.runner);return(0,o.jsxs)("fieldset",{role:"group",children:[(0,o.jsx)("button",{className:"flex-0",onClick:function onClick(){return n.actions.frame()},"data-tooltip":"Step","data-placement":"bottom",children:"\u27a1\ufe0f"}),(0,o.jsx)("button",{className:"flex-0",onClick:function onClick(){return n.state.running?n.actions.stop():n.actions.start()},"data-tooltip":n.state.running?"Pause":"Run","data-placement":"bottom",children:n.state.running?"\u23f8":"\ufe0f\u23e9"}),(0,o.jsx)("button",{className:"flex-0",onClick:function onClick(){return n.actions.reset()},"data-tooltip":"Reset","data-placement":"bottom",children:"\u23ee"}),(0,o.jsx)("select",{className:"flex-1",name:"speed",value:n.state.speed,onChange:function onChange(e){var t,r;n.dispatch({action:"setSpeed",payload:Number(null!==(t=null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==t?t:n.state.speed)})},disabled:n.state.running,children:[[1e3,"Slow"],[500,"Fast"],[16,"Faster"]].map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return(0,o.jsx)("option",{value:t,children:r},t)}))}),(0,o.jsx)("select",{className:"flex-1",name:"steps",value:n.state.steps,onChange:function onChange(e){var t,r;n.dispatch({action:"setSteps",payload:Number(null!==(t=null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==t?t:n.state.steps)})},disabled:n.state.running,children:[[1,"1 Step"],[500,"500"],[1e3,"1000"],[2e3,"2000"],[8e3,"8000"]].concat((0,r.Z)(16===n.state.speed?[[16666,"1MHz"],[499980,"30MHz"]]:[])).map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return(0,o.jsx)("option",{value:t,children:r},t)}))}),e.children]})}},8923:function(e,n,t){t.d(n,{B:function(){return g}});var r=t(1092),a=t(7791),o=t(2951),i=t(1976),u=t(7538),s=t(4649),l=t(2648),c=t(3943),d=t(6531).S.get(),f=new WeakMap,v=new WeakMap,h=new WeakMap,m=new WeakMap,g=function(){function Timer(){var e=this;(0,o.Z)(this,Timer),(0,s.Z)(this,"steps",1),(0,s.Z)(this,"speed",1e3),(0,u.Z)(this,f,{writable:!0,value:!1}),(0,u.Z)(this,v,{writable:!0,value:0}),(0,u.Z)(this,h,{writable:!0,value:0}),(0,u.Z)(this,m,{writable:!0,value:function(){var n=(0,a.Z)((0,r.Z)().mark((function _callee(){var n,t,a,o,i;return(0,r.Z)().wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if((0,c.Z)(e,f)){r.next=2;break}return r.abrupt("return");case 2:if(n=Date.now(),t=n-(0,c.Z)(e,h),(0,l.Z)(e,h,n),(0,l.Z)(e,v,(0,c.Z)(e,v)+t),(0,c.Z)(e,v)>e.speed){for(a=!1,o=e.steps,i="Timing ".concat(o," steps"),console.time(i);!a&&o--;)a=e.tick();console.timeEnd(i),e.finishFrame(),a&&e.stop(),(0,l.Z)(e,v,(0,c.Z)(e,v)-e.speed)}requestAnimationFrame((0,c.Z)(e,m));case 8:case"end":return r.stop()}}),_callee)})));return function value(){return n.apply(this,arguments)}}()})}return(0,i.Z)(Timer,[{key:"frame",value:function frame(){this.tick(),this.finishFrame()}},{key:"finishFrame",value:function finishFrame(){d.frame()}},{key:"running",get:function get(){return(0,c.Z)(this,f)}},{key:"start",value:function start(){(0,l.Z)(this,f,!0),(0,l.Z)(this,h,Date.now()-this.speed),(0,c.Z)(this,m).call(this),this.toggle()}},{key:"stop",value:function stop(){(0,l.Z)(this,f,!1),this.toggle()}}]),Timer}()}}]);
//# sourceMappingURL=432.80e872c8.chunk.js.map